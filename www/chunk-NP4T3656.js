import{a as d}from"./chunk-LCZUZPJB.js";import{c as s,g as m}from"./chunk-YZR4O2H4.js";import{N as u,Q as c,d as n}from"./chunk-R3JMOR4V.js";import{h as p}from"./chunk-LNJ3S2LQ.js";var a=class{constructor(i,l,t,r,P,F,_,b,y,I,x){this._apiUrl=i,this._devise=l,this._libelle=t,this._idFiliale=r,this.codeFiliale=P,this._documentUrl=F,this.codeFilialePaiement=_,this._urlVideoPublicitaire=b,this._urlSouscription=y,this._urlIxpertaPay=I,this._ixpertaPayKey=x}toJson(){return{apiUrl:this._apiUrl,devise:this._devise,libelle:this._libelle,idFiliale:this._idFiliale,codeFiliale:this.codeFiliale,documentUrl:this._documentUrl,souscriptionUrl:this._urlSouscription,codeFilialePaiement:this.codeFilialePaiement,urlVideoPublicitaire:this._urlVideoPublicitaire,ixpertaPayHostname:this._urlIxpertaPay,ixpertaPayApiKey:this._ixpertaPayKey}}};var o=class{static build(i){return new a(i.ApiUrl,i.Devise,i.Libelle,i.IdFiliale,i.CodeFiliale,i.DocumentUrl,i.CodeFilialePaiement,i.UrlVideoPublicitaire,i.ApiSouscriptionUrl,`${i.IxpertaPayUrl}`.trim(),i.IxpertaPayApiKey).toJson()}};var f={production:!1,kkiapayHostname:"https://api.kkiapay.me/api",hostnameFiliale:"https://testchapchapcm.groupensia.com",hub2Hostname:"https://paymenthubci.groupensia.com/kobus/api"};var h=class{constructor(i,l){if(this.store=i,this.appConfigAPI=l,this.message="",this.filiales=[],this.store.storeValue(s.APP_CONFIG)){let t=this.store.storeValue(s.APP_CONFIG);this.filiales=t.filiales?this.store.storeValue(s.APP_CONFIG).filiales:[]}this.filialeBehaviorSubject=new n(this.filiales)}loadFiliale(){return p(this,null,function*(){return yield this.appConfigAPI.listFiliale(f.hostnameFiliale).then(i=>(this.generateFilialeList(i),this.updateBehaviorSubject(),this.filiales))})}updateBehaviorSubject(){this.filialeBehaviorSubject.next(this.filiales)}generateFilialeList(i){this.filiales=[];for(let l of i.Filiale)this.createEndPushFilialeInstance(l)}createEndPushFilialeInstance(i){this.filiales.push(o.build(i))}};var w=(()=>{let i=class i extends h{constructor(t,r){super(t,r)}getFiliales(){return this.loadFiliale()}};i.\u0275fac=function(r){return new(r||i)(c(m),c(d))},i.\u0275prov=u({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();export{a,w as b};
