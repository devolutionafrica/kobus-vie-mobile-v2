import{c as J}from"./chunk-G7VNZEIO.js";import"./chunk-VR2CFWHV.js";import"./chunk-RFL24BSP.js";import"./chunk-KWB7PMGW.js";import"./chunk-OFHKS6HF.js";import"./chunk-HC6MZPB3.js";import"./chunk-4QCDUIMV.js";import"./chunk-HKXQTFAF.js";import"./chunk-3H72FJST.js";import"./chunk-HKIPULFU.js";import"./chunk-I5V6RRU4.js";import"./chunk-2XCOQZX7.js";import"./chunk-MCRJI3T3.js";import{b as Y}from"./chunk-NP4T3656.js";import{a as z}from"./chunk-IA4EMT7D.js";import{a as K}from"./chunk-RH5BOKXF.js";import{c as q}from"./chunk-UBSMJS42.js";import{a as D,b as M}from"./chunk-X74HZUK6.js";import"./chunk-YXIH4HW3.js";import"./chunk-MBDWPRLC.js";import"./chunk-RTD7OIC3.js";import"./chunk-MJBR6MFX.js";import"./chunk-5OMUW5VI.js";import"./chunk-OBXDPQ3V.js";import{h as H}from"./chunk-MYCPTFMV.js";import{b as U,c as w,e as B}from"./chunk-MK2UZTYQ.js";import"./chunk-LCZUZPJB.js";import"./chunk-T3DK3MTE.js";import{c as p,e as I,f as b,g as k}from"./chunk-YZR4O2H4.js";import{$c as y,Ba as C,Fb as N,La as _,Pb as x,Pc as L,Ra as o,Sa as s,Ta as c,Xc as T,Za as h,_b as G,_c as O,bb as F,ed as E,ib as m,jb as v,jd as j,kb as P,qb as A,sb as d,sd as R,tb as g,ua as l,ud as V,ya as n}from"./chunk-R3JMOR4V.js";import"./chunk-WIBX65JJ.js";import"./chunk-T7W34IF5.js";import"./chunk-U2BULWNC.js";import"./chunk-QP63OKL4.js";import"./chunk-WOMEDVA5.js";import"./chunk-YHK2ZB7J.js";import"./chunk-4U6PRYVA.js";import"./chunk-U4MOEAPB.js";import"./chunk-JWIEPCRG.js";import"./chunk-C5RQ2IC2.js";import"./chunk-D4VGNZLR.js";import"./chunk-JHLW7V75.js";import"./chunk-SV7S5NYR.js";import{h as S}from"./chunk-LNJ3S2LQ.js";var $=r=>({"ios-header":r}),he=(()=>{let a=class a{constructor(t,e,i,f,u,Q,W,X){this.route=t,this.platform=e,this.store=i,this.spinner=f,this.filialeService=u,this.initAppService=Q,this.filialeSelectedService=W,this.translate=X,this.changLanguage=Z=>{this.translate.setDefaultLang(Z.detail.value),this.language=this.translate.currentLang},this.language=this.translate.currentLang,i.storeValue(p.APP_CONFIG)||this.initAppService.createStoreInitValue(),this.lastAppConfig=i.storeValue(p.APP_CONFIG),this.platformValue=this.platform.getPlatform()}ngOnInit(){!this.lastAppConfig.filiales&&this.loadingProcess()}loadingProcess(){return S(this,null,function*(){this.spinner.show(),this.filialeService.getFiliales().then(t=>{let e={filiales:t};I&&this.updateCustomConfig(t),this.store.dispatch(p.APP_CONFIG,e);let i=new D(!1,M.PROGRESS).json();this.store.dispatch(p.CONFIG_STEP,i),this.spinner.hide()}).catch(t=>{this.spinner.hide()})})}ionViewDidLeave(){this.spinner.hide()}goToNextScreen(){I?this.route.navigate(["/init-app"]):this.route.navigate(["config-country"])}updateCustomConfig(t){t.filter(e=>{if(e.codeFiliale===b.codeFiliale){let i={filiale:e.libelle,fileDirPath:e.documentUrl,hostname:e.apiUrl,icon:K[e.codeFiliale],codeFiliale:e.codeFilialePaiement,devise:e.devise,souscriptionUrl:e.souscriptionUrl};this.filialeSelectedService.setFiliale(i)}})}};a.\u0275fac=function(e){return new(e||a)(n(G),n(J),n(k),n(H),n(Y),n(q),n(z),n(U))},a.\u0275cmp=C({type:a,selectors:[["app-config-lang"]],decls:22,vars:13,consts:[["fullscreen","","scroll-y","false",1,"ion-padding",3,"ngClass"],["id","language"],["src","assets/icon/ic_language.png",1,"lang-icon"],["color","dark"],[3,"ionChange","value"],[1,"item-lang"],["src","assets/country/ic_france_96px.png"],["slot","end","value","fr"],["id","bottom-nav",3,"click"],["color","secondary","expand","block","fill","clear","shape","round"],["slot","end","name","chevron-forward-outline"]],template:function(e,i){e&1&&(o(0,"ion-content",0)(1,"div",1),c(2,"ion-img",2),o(3,"ion-text",3)(4,"h1"),m(5),d(6,"translate"),s()(),o(7,"ion-radio-group",4),h("ionChange",function(u){return i.changLanguage(u)}),o(8,"div",5)(9,"ion-item"),c(10,"ion-img",6),o(11,"ion-text",3)(12,"p"),m(13),d(14,"translate"),s()(),c(15,"ion-radio",7),s()()(),o(16,"div",8),h("click",function(){return i.goToNextScreen()}),o(17,"a")(18,"ion-button",9),m(19),d(20,"translate"),c(21,"ion-icon",10),s()()()()()),e&2&&(_("ngClass",A(11,$,i.platformValue==="ios")),l(5),v(g(6,5,"CONFIG_LANG.layoutText.title")),l(2),F("value",i.language),l(6),v(g(14,7,"CONFIG_LANG.radioText.language.fr")),l(6),P(" ",g(20,9,"CONFIG_LANG.btnText.title")," "))},dependencies:[x,N,B,w,T,O,j,V,y,E,L,R],encapsulation:2});let r=a;return r})();export{he as ConfigLangPage};
