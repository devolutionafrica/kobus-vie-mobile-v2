import{a as p}from"./chunk-LCZUZPJB.js";import{c as e,g}from"./chunk-YZR4O2H4.js";import{N as I,Q as u,d as h}from"./chunk-R3JMOR4V.js";import{h as c}from"./chunk-LNJ3S2LQ.js";var a=class{static build(t){return{libelle:t.LIBELLE,isActive:t.IS_ACTIF,urlAPI:t.URL_API,logo:t.LOGO,description:t.DESCRIPTION}}};var n=class{constructor(t,i){if(this.store=t,this.apiService=i,this.apiUrl="",this.message="",this.store.storeValue(e.APP_CONFIG)){let s=this.store.storeValue(e.APP_CONFIG);this.integrateur=s.integrators?this.store.storeValue(e.APP_CONFIG).integrators:[]}else this.integrateur=[];this.integrateurBehaviorSubject=new h(this.integrateur)}loadIntegrators(){return c(this,null,function*(){return yield this.apiService.listIntegrateur().then(t=>{let i=this.store.storeValue(e.APP_CONFIG);return this.generateIntegrateurList(t.ListIntegrateurPaiement),this.updateBehaviorSubject(),this.integrateur})})}updateBehaviorSubject(){this.integrateurBehaviorSubject.next(this.integrateur)}generateIntegrateurList(t){this.integrateur=[];for(let i of t)i.IS_ACTIF&&this.createEndPushIntegratorInstance(i)}createEndPushIntegratorInstance(t){this.integrateur.push(a.build(t))}cleanStorageIntegrateur(){let t=this.store.storeValue(e.APP_CONFIG);t.operators=[],this.store.dispatch(e.APP_CONFIG,t)}};var v=(()=>{let t=class t extends n{constructor(s,o){super(s,o),this._store=s,this._apiService=o}getIntegrateurs(){return this.loadIntegrators()}cleanOperatorList(){this.cleanStorageIntegrateur()}};t.\u0275fac=function(o){return new(o||t)(u(g),u(p))},t.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();export{v as a};
