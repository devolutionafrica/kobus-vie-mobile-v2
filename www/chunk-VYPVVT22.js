import{a as E,b as U}from"./chunk-NP4T3656.js";import{a as V}from"./chunk-IA4EMT7D.js";import{a as T}from"./chunk-RH5BOKXF.js";import{a as N,c as M}from"./chunk-UBSMJS42.js";import{a as u,b as s}from"./chunk-X74HZUK6.js";import{a as r}from"./chunk-BBKXRSVT.js";import{b as O,e as y}from"./chunk-MK2UZTYQ.js";import"./chunk-LCZUZPJB.js";import{a as A}from"./chunk-T3DK3MTE.js";import{a as P,c as n,e as p,f as h,g as F}from"./chunk-YZR4O2H4.js";import{Ba as d,Ra as f,Sa as w,Ta as I,Xc as k,_b as b,cb as C,ib as v,kb as S,ob as _,ta as g,ua as m,ya as o}from"./chunk-R3JMOR4V.js";import"./chunk-WIBX65JJ.js";import"./chunk-T7W34IF5.js";import"./chunk-U2BULWNC.js";import"./chunk-QP63OKL4.js";import"./chunk-WOMEDVA5.js";import"./chunk-YHK2ZB7J.js";import"./chunk-4U6PRYVA.js";import"./chunk-U4MOEAPB.js";import"./chunk-JWIEPCRG.js";import"./chunk-C5RQ2IC2.js";import"./chunk-D4VGNZLR.js";import"./chunk-JHLW7V75.js";import"./chunk-SV7S5NYR.js";import{h as l}from"./chunk-LNJ3S2LQ.js";var si=(()=>{let a=class a{constructor(t,i,e,G,j,L,R,B){this.router=t,this._store=i,this._session=e,this.translate=G,this.filialeService=j,this.initAppService=L,this.networkService=R,this.filialeSelectedService=B,this.splashIcon=P,this.isLoading=!1,i.storeValue(n.APP_CONFIG)||this.initAppService.createStoreInitValue(),this.lastAppConfig=this._store.storeValue(n.APP_CONFIG),this.stepConfig=i.storeValue(n.CONFIG_STEP)}ngOnInit(){this.currentDate=new Date().getFullYear(),this.networkService.checkNetworkStatus(),this.networkService.networkStatusBehaviorSubject.subscribe(t=>{t===!0&&this.isLoading===!1&&this.loadingProcess()}),p&&(this.splashIcon=h.splashIcon)}loadingProcess(){return l(this,null,function*(){(this.stepConfig.step===s.INIT||this.stepConfig.hasOwnProperty("step")===!1)&&this.filialeService.getFiliales().then(t=>{console.log("Appel Page splash");let i={filiales:t};p&&this.updateCustomConfig(t),this._store.dispatch(n.APP_CONFIG,i);let e=new u(!1,s.INIT).json();this._store.dispatch(n.CONFIG_STEP,e),this.lastAppConfig=this._store.storeValue(n.APP_CONFIG),this.switchAppView(e.step)}).catch(t=>{console.log("Error lors chargement des donn\xE9es locale",t)}),this.isLoading=!0})}demoInit(){return l(this,null,function*(){let i={filiales:[new E("api_url","FCFA","NSIA CAMEROUN",237,"CM_VIE","documentUrl","code_paaiement","url_videp","url_souscrip").toJson]};this._store.dispatch(n.APP_CONFIG,i);let e=new u(!1,s.INIT).json();this._store.dispatch(n.CONFIG_STEP,e),this.lastAppConfig=this._store.storeValue(n.APP_CONFIG),this.switchAppView(e.step),this.switchAppView(e.step)})}updateCustomConfig(t){t.filter(i=>{if(i.codeFiliale===h.codeFiliale){let e={filiale:i.libelle,fileDirPath:i.documentUrl,hostname:i.apiUrl,icon:T[i.codeFiliale],codeFiliale:i.codeFilialePaiement,devise:i.devise,souscriptionUrl:i.souscriptionUrl};this.filialeSelectedService.setFiliale(e)}})}ionViewWillEnter(){let t=N.build(this._store.storeValue(n.CONFIG_STEP));t!==null?this.switchAppView(t.json().step):this.router.navigateByUrl("/splash")}switchAppView(t){switch(t){case s.COMPLETED:this._session.storeValue(n.AUTH)!==null?this.router.navigateByUrl("/home"):this.router.navigateByUrl("/login");break;case s.PROGRESS:this.router.navigateByUrl("/init-app");break;case s.INIT:this.router.navigateByUrl("/config-country");break;default:this.router.navigateByUrl("/splash");break}this.isLoading=!0}};a.\u0275fac=function(i){return new(i||a)(o(b),o(F),o(A),o(O),o(U),o(M),o(r),o(V))},a.\u0275cmp=d({type:a,selectors:[["app-splash"]],features:[_([r])],decls:5,vars:3,consts:[[1,"ion-align-items-center"],["id","splash-cntnt"],[3,"src"]],template:function(i,e){i&1&&(f(0,"ion-content",0)(1,"div",1),I(2,"img",2),f(3,"span"),v(4),w()()()),i&2&&(m(2),C("src","assets/icon/",e.splashIcon,"",g),m(2),S("Copyright IXPERTA SA ",e.currentDate,""))},dependencies:[k,y],styles:["@-webkit-keyframes _ngcontent-%COMP%_heartbeat{0%{-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:center center;transform-origin:center center;-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}10%{-webkit-transform:scale(.91);transform:scale(.91);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}17%{-webkit-transform:scale(.98);transform:scale(.98);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}33%{-webkit-transform:scale(.87);transform:scale(.87);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}45%{-webkit-transform:scale(1);transform:scale(1);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}}@keyframes _ngcontent-%COMP%_heartbeat{0%{-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:center center;transform-origin:center center;-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}10%{-webkit-transform:scale(.91);transform:scale(.91);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}17%{-webkit-transform:scale(.98);transform:scale(.98);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}33%{-webkit-transform:scale(.87);transform:scale(.87);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}45%{-webkit-transform:scale(1);transform:scale(1);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}}ion-content[_ngcontent-%COMP%]{--background: var(--ion-color-white) }#splash-cntnt[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}#splash-cntnt[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:auto;width:6rem;animation:_ngcontent-%COMP%_heartbeat 1.5s ease-in-out infinite both}#splash-cntnt[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{bottom:5%;color:var(--ion-color-primary);font-weight:400;font-family:11px!important;position:absolute}"]});let c=a;return c})();export{si as SplashPage};
