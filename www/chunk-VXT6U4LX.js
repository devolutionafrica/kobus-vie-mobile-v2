import{a as H,b as J}from"./chunk-FPJSHQDL.js";import"./chunk-WM3OINT3.js";import{a as B,b as K}from"./chunk-SCHSRBL4.js";import"./chunk-RZAGQDL7.js";import{a as V,b as q}from"./chunk-X74HZUK6.js";import{a as D}from"./chunk-6T2OUF7B.js";import{a as Y}from"./chunk-3BIYJOVG.js";import"./chunk-W6C75AC7.js";import{h as L}from"./chunk-MYCPTFMV.js";import"./chunk-LCZUZPJB.js";import"./chunk-T3DK3MTE.js";import{c as s,g as z}from"./chunk-YZR4O2H4.js";import{$c as j,Ba as h,La as u,Nc as E,Pb as C,Ra as o,Rc as x,Sa as a,Sc as F,Ta as g,Tc as k,Uc as w,Vc as O,Xc as R,Za as f,_b as v,gc as p,ib as c,ic as I,jc as S,jd as N,kc as _,mc as y,oc as P,pc as b,sc as M,sd as T,td as G,ua as m,uc as A,ya as r}from"./chunk-R3JMOR4V.js";import"./chunk-WIBX65JJ.js";import"./chunk-T7W34IF5.js";import"./chunk-U2BULWNC.js";import"./chunk-QP63OKL4.js";import"./chunk-WOMEDVA5.js";import"./chunk-YHK2ZB7J.js";import"./chunk-4U6PRYVA.js";import"./chunk-U4MOEAPB.js";import"./chunk-JWIEPCRG.js";import"./chunk-C5RQ2IC2.js";import"./chunk-D4VGNZLR.js";import"./chunk-JHLW7V75.js";import"./chunk-SV7S5NYR.js";import"./chunk-LNJ3S2LQ.js";var de=(()=>{let n=class n{constructor(e,i,t,l,Q){this.authClientService=e,this.spinner=i,this._configSpinner=t,this.route=l,this.store=Q}ngOnInit(){this.parrainForm=new _({codeApporteur:new y("",[p.required,p.minLength(3),p.pattern(/^[0-9]*$/)])})}onFinalyConfig(e){this.route.navigate(["/login"]).then(i=>{let t=new V(!0,q.COMPLETED).json();e?console.log(e):(console.log(101),this.store.dispatch(s.PARRAIN_KEY,101)),this.store.dispatch(s.CONFIG_STEP,t)})}onAddParrain(){let e=parseInt(this.parrainForm.value.codeApporteur);this.spinner.show(),this._configSpinner.setMessage("Verification en cours");let i={codeApporteur:e};this.authClientService.codeApporteurVerif(i).then(t=>{this.spinner.hide(),t==!0?(this.store.dispatch(s.PARRAIN_KEY,e),console.log("code apporteur value :::> ",e),this.onFinalyConfig(e)):K.show("Code incorrect","Le code apporteur saisi n'est pas correct. Merci de r\xE9essayer",B.error,!1)})}};n.\u0275fac=function(i){return new(i||n)(r(D),r(L),r(Y),r(v),r(z))},n.\u0275cmp=h({type:n,selectors:[["app-parrainage"]],decls:20,vars:2,consts:[["fullscreen","","scroll-y","false",1,"ion-padding"],["id","parrainage"],["color","primary",1,"ion-padding-horizontal",2,"width","100%"],[1,"ion-text-right",3,"click"],["src","assets/images/parrain_image.jpg"],[1,"ion-no-padding-horizontal"],[3,"formGroup"],["color","dark","slot","start","name","apps-outline"],["formControlName","codeApporteur","required","true","color","dark","type","text","placeholder","",1,"ion-no-padding"],["mat-flat-button","","color","dark",1,"btn-style",2,"background-color","var(--ion-color-secondary) !important",3,"click","disabled"],[1,"ion-padding",2,"color","var(--ion-color-white)"]],template:function(i,t){i&1&&(o(0,"ion-app")(1,"ion-content",0)(2,"div",1)(3,"ion-text",2)(4,"h5",3),f("click",function(){return t.onFinalyConfig()}),c(5,"Ignorer & terminer > "),a()(),o(6,"ion-card"),g(7,"img",4),o(8,"ion-card-header",5)(9,"ion-card-subtitle"),c(10,"Espace r\xE9serv\xE9 au conseiller"),a(),o(11,"ion-card-title"),c(12,"R\xE9ference du parrain"),a()(),o(13,"ion-card-content",6)(14,"ion-item"),g(15,"ion-icon",7)(16,"ion-input",8),a(),o(17,"button",9),f("click",function(){return t.onAddParrain()}),o(18,"span",10),c(19,"Je valide "),a()()()()()()()),i&2&&(m(13),u("formGroup",t.parrainForm),m(4),u("disabled",t.parrainForm.invalid))},dependencies:[C,A,I,S,M,P,b,E,R,N,x,k,w,O,F,j,T,G,J,H],styles:["#parrainage[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;justify-content:center;width:100%;height:100%;padding:0 7%}ion-card[_ngcontent-%COMP%]{box-shadow:0 4px 20px #222c311a!important}ion-item[_ngcontent-%COMP%]{--border-style: none;border-bottom:1px solid var(--ion-color-dark);margin-bottom:10px}button[_ngcontent-%COMP%]{width:100%;padding:.6rem;border-radius:.4rem}button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem;font-weight:400;padding:0;display:block}button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:28px}"]});let d=n;return d})();export{de as ParrainagePage};
