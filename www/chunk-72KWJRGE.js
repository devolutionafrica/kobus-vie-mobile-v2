import{a as st,b as mt}from"./chunk-FPJSHQDL.js";import"./chunk-WM3OINT3.js";import{a as rt,f as at,g as pt}from"./chunk-VZ7FIHC4.js";import{a as h,b as x}from"./chunk-SCHSRBL4.js";import"./chunk-RZAGQDL7.js";import{c as lt}from"./chunk-G7VNZEIO.js";import"./chunk-VR2CFWHV.js";import"./chunk-RFL24BSP.js";import"./chunk-KWB7PMGW.js";import"./chunk-OFHKS6HF.js";import"./chunk-HC6MZPB3.js";import"./chunk-4QCDUIMV.js";import"./chunk-HKXQTFAF.js";import"./chunk-3H72FJST.js";import"./chunk-HKIPULFU.js";import"./chunk-I5V6RRU4.js";import"./chunk-2XCOQZX7.js";import"./chunk-MCRJI3T3.js";import"./chunk-YXIH4HW3.js";import"./chunk-MBDWPRLC.js";import"./chunk-RTD7OIC3.js";import"./chunk-MJBR6MFX.js";import"./chunk-5OMUW5VI.js";import"./chunk-OBXDPQ3V.js";import{a as ot}from"./chunk-W6C75AC7.js";import{h as ct}from"./chunk-MYCPTFMV.js";import{c as it,e as nt}from"./chunk-MK2UZTYQ.js";import{b as $,e as tt,f as et}from"./chunk-YZR4O2H4.js";import{$b as k,$c as J,Ba as b,Fb as F,La as m,N as M,Pb as w,Pc as W,Q as R,Ra as n,Sa as a,Ta as d,Wc as V,Xc as q,Yc as X,Za as O,_b as T,_c as H,bb as I,cb as y,d as _,dc as L,hd as K,ib as s,ic as B,jb as f,jc as U,jd as Q,kb as N,nc as D,oc as j,pb as P,pc as z,qb as A,sb as c,sd as Y,tb as l,td as Z,ua as e,uc as G,ya as u}from"./chunk-R3JMOR4V.js";import"./chunk-WIBX65JJ.js";import"./chunk-T7W34IF5.js";import"./chunk-U2BULWNC.js";import"./chunk-QP63OKL4.js";import"./chunk-WOMEDVA5.js";import"./chunk-YHK2ZB7J.js";import"./chunk-4U6PRYVA.js";import"./chunk-U4MOEAPB.js";import"./chunk-JWIEPCRG.js";import"./chunk-C5RQ2IC2.js";import"./chunk-D4VGNZLR.js";import"./chunk-JHLW7V75.js";import"./chunk-SV7S5NYR.js";import{h as g}from"./chunk-LNJ3S2LQ.js";var C=class{static build(t){return{login:t.LOGIN,nom:t.NOM_CLIENT,prenom:t.PRENOMS_CLIENT,password:t.MOT_DE_PASSE}}};var v=class{constructor(t){this.extranetAPI=t,this.message="",this.resetAccountBehaviorSubject=new _(null)}resetUserAccount(t){return g(this,null,function*(){return yield this.extranetAPI.resetAccount(t).then(E=>E.Statut===200?C.build(E):!1)})}};var ut=(()=>{let t=class t extends v{constructor(r){super(r)}resetAccount(r){return this.resetUserAccount(r)}};t.\u0275fac=function(i){return new(i||t)(R(ot))},t.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();var ht=o=>({"ios-header":o}),dt=()=>["/login"],Gt=(()=>{let t=class t{constructor(r,i,p,S){this.route=r,this.platform=i,this.spinner=p,this.apiRequest=S,this.initForm=()=>{tt?this.appLogo=et.appIcon:this.appLogo=$,this.recupForm=new rt("","").buildForm()},this.platformValue=this.platform.getPlatform()}get nuPolice(){return this.recupForm.get("nuPolice")}get adressMail(){return this.recupForm.get("adressMail")}get invalidForm(){return this.recupForm.invalid}ngOnInit(){this.initForm()}ionViewWillEnter(){}sendRecupAccount(){return g(this,null,function*(){let r={Email:this.recupForm.value.adressMail,NumeroPolice:this.recupForm.value.nuPolice};this.spinner.show(),this.apiRequest.resetAccount(r).then(i=>{i?x.show("R\xE9cup\xE9ration de compte","V\xE9rifier votre adresse email pour vous reconnecter",h.success).then(p=>this.route.navigate(["login"])):x.show("R\xE9cup\xE9ration de compte","Num\xE9ro de police ou adresse email incorrect",h.error)}).catch(i=>{x.show("Erreur Serveur","Nous avons rencontr\xE9 un probl\xE8me lors de la r\xE9cuperation de votre compte",h.error)}).finally(()=>this.spinner.hide())})}};t.\u0275fac=function(i){return new(i||t)(u(T),u(lt),u(ct),u(ut))},t.\u0275cmp=b({type:t,selectors:[["app-recup-compte"]],decls:39,vars:33,consts:[[3,"fullscreen","ngClass"],[1,"ion-justify-content-center","ion-align-items-center"],["size-xs","12","size-sm","6"],[3,"src"],[3,"formGroup"],["color","dark",1,"ion-text-center"],["color","dark","slot","start","name","document-outline"],["formControlName","nuPolice","color","dark","type","text",3,"placeholder"],["color","dark","slot","start","name","mail-outline"],["formControlName","adressMail","color","dark","type","email",3,"placeholder"],["mat-flat-button","",1,"btn-style",2,"background-color","var(--ion-color-primary) !important",3,"click","disabled"],[2,"color","var(--ion-color-white)"],[2,"margin","25px 0"],[3,"routerLink"],["id","prev-option",3,"routerLink"],["color","primary","expand","block","fill","clear","shape","round"],["slot","start","name","chevron-back-outline"]],template:function(i,p){i&1&&(n(0,"ion-content",0)(1,"ion-grid")(2,"ion-row",1)(3,"ion-col",2)(4,"ion-row",1),d(5,"ion-img",3),a()(),n(6,"ion-col",2)(7,"form",4)(8,"ion-text",5)(9,"h3"),s(10),c(11,"translate"),a()(),n(12,"ion-item"),d(13,"ion-icon",6)(14,"ion-input",7),c(15,"translate"),a(),n(16,"ion-item"),d(17,"ion-icon",8)(18,"ion-input",9),c(19,"translate"),a(),n(20,"button",10),O("click",function(){return p.sendRecupAccount()}),n(21,"mat-icon",11),s(22,"login"),a(),n(23,"span",11),s(24),c(25,"translate"),a()(),n(26,"ion-text",5)(27,"p",12),s(28),c(29,"translate"),n(30,"a",13),s(31),c(32,"translate"),a()()()()()()(),n(33,"a",14)(34,"ion-button",15)(35,"span"),s(36),c(37,"translate"),a(),d(38,"ion-icon",16),a()()()),i&2&&(m("fullscreen",!0)("ngClass",A(29,ht,p.platformValue==="ios")),e(5),y("src","assets/icon/",p.appLogo,""),e(2),m("formGroup",p.recupForm),e(3),f(l(11,15,"RECUP_PASSWORD_SCREEN.layoutText.title")),e(4),I("placeholder",l(15,17,"RECUP_PASSWORD_SCREEN.formText.inputText.nuPolice.placeholder")),e(4),I("placeholder",l(19,19,"RECUP_PASSWORD_SCREEN.formText.inputText.addressMail.placeholder")),e(2),m("disabled",p.invalidForm),e(4),f(l(25,21,"RECUP_PASSWORD_SCREEN.formText.btnText.btnReset")),e(4),N(" ",l(29,23,"RECUP_PASSWORD_SCREEN.footerText.text")," "),e(2),m("routerLink",P(31,dt)),e(),f(l(32,25,"RECUP_PASSWORD_SCREEN.footerText.simpleAction")),e(2),m("routerLink",P(32,dt)),e(3),f(l(37,27,"RECUP_PASSWORD_SCREEN.footerText.btnText.previousAction.title")))},dependencies:[w,F,G,D,B,U,j,z,L,k,nt,it,q,X,K,V,H,Q,J,Y,Z,W,mt,st,pt,at],styles:["ion-grid[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;justify-content:flex-end;padding:0 10%;margin-top:30%;width:100%}ion-grid[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:7rem;height:auto}ion-grid[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--border-style: none;border-bottom:1px solid var(--ion-color-dark);margin-bottom:16px}ion-grid[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:300!important;margin-bottom:30px}button[_ngcontent-%COMP%]{width:100%;padding:3.5px;margin-top:15px}button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem!important;font-weight:400!important;margin:0 5px}a[_ngcontent-%COMP%]{text-decoration:none;font-size:1rem;font-weight:200;color:var(--ion-color-secondary)}#prev-option[_ngcontent-%COMP%]{position:absolute;text-decoration:none;left:10px;bottom:10px}#prev-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem;font-weight:200}  .btn-style{padding:10px;font-size:1rem!important;font-weight:300!important;border-radius:8px}ion-input[_ngcontent-%COMP%]{border-bottom:0px;font-size:1rem;font-weight:200}.ios-header[_ngcontent-%COMP%]{padding-top:1.4rem!important}"]});let o=t;return o})();export{Gt as RecupComptePage};
