import{a as Gi,b as ji}from"./chunk-FPJSHQDL.js";import"./chunk-WM3OINT3.js";import{a as Gt,b as Ri,c as Bi,d as lt,e as ct}from"./chunk-LL6VJIQB.js";import{d as Mi,e as Oi,f as Li,g as zi}from"./chunk-VZ7FIHC4.js";import{a as j,b as W,c as Vi}from"./chunk-SCHSRBL4.js";import{i as ki,j as Ti,l as Ai,n as Di,o as Ni,t as Fi,v as Ne}from"./chunk-RZAGQDL7.js";import{a as ge,c as st}from"./chunk-G7VNZEIO.js";import"./chunk-VR2CFWHV.js";import"./chunk-RFL24BSP.js";import"./chunk-KWB7PMGW.js";import"./chunk-OFHKS6HF.js";import"./chunk-HC6MZPB3.js";import"./chunk-4QCDUIMV.js";import"./chunk-HKXQTFAF.js";import"./chunk-3H72FJST.js";import"./chunk-HKIPULFU.js";import"./chunk-I5V6RRU4.js";import"./chunk-2XCOQZX7.js";import"./chunk-MCRJI3T3.js";import{a as Ei}from"./chunk-I3BU47JI.js";import"./chunk-YXIH4HW3.js";import"./chunk-MBDWPRLC.js";import"./chunk-RTD7OIC3.js";import"./chunk-MJBR6MFX.js";import"./chunk-5OMUW5VI.js";import"./chunk-OBXDPQ3V.js";import{a as ke}from"./chunk-3BIYJOVG.js";import{a as Si}from"./chunk-W6C75AC7.js";import{h as fe}from"./chunk-MYCPTFMV.js";import{c as rt}from"./chunk-QSBPDMOP.js";import{b as at,c as Ii,e as wi}from"./chunk-MK2UZTYQ.js";import{a as V,b as Pi}from"./chunk-T3DK3MTE.js";import{c as g,d as ae,g as M}from"./chunk-YZR4O2H4.js";import{$c as nt,Ba as x,Ca as Ee,Da as je,Db as We,Fb as Oe,Ga as C,Gb as ne,Hb as H,Ib as Ye,Ja as G,Jb as Qe,Ka as zt,Kb as $e,La as p,N as k,Na as Vt,Nb as ci,O as Ie,Oa as Ue,Ob as pe,Oc as tt,P as qt,Pb as R,Pc as mi,Q as I,Qc as ui,R as te,Ra as s,S as Zt,Sa as a,T as ei,Ta as u,Tb as Se,Ua as be,Ub as me,Va as Ce,Wc as D,X as we,Xa as N,Xc as K,Y as T,Yc as it,Z as A,Za as v,_ as B,_a as f,_b as ue,_c as he,ad as hi,ba as ti,bb as ye,c as Ft,cb as Me,cd as gi,d as ee,da as Q,dd as fi,e as Jt,ea as Ge,fd as _i,gc as Bt,gd as vi,ha as De,hb as ni,hd as E,ib as c,ic as Xe,id as bi,jb as S,jc as Ke,jd as oe,kb as L,kc as di,lb as X,mb as oi,mc as pi,md as re,na as Lt,nb as ri,nc as Je,ob as ai,oc as qe,pc as Ze,pd as Ci,qb as He,qd as yi,r as Be,rb as si,rd as xi,sb as $,sd as z,tb as ie,td as ot,ua as l,ub as Rt,uc as et,vb as li,xa as ii,ya as h,yb as xe}from"./chunk-R3JMOR4V.js";import"./chunk-WIBX65JJ.js";import"./chunk-T7W34IF5.js";import"./chunk-U2BULWNC.js";import"./chunk-QP63OKL4.js";import"./chunk-WOMEDVA5.js";import"./chunk-YHK2ZB7J.js";import"./chunk-4U6PRYVA.js";import"./chunk-U4MOEAPB.js";import"./chunk-JWIEPCRG.js";import"./chunk-C5RQ2IC2.js";import"./chunk-D4VGNZLR.js";import"./chunk-JHLW7V75.js";import"./chunk-SV7S5NYR.js";import{a as Y,b as ve,g as U,h as y}from"./chunk-LNJ3S2LQ.js";var Ui="mat-badge-content",Sn=(()=>{let e=class e{};U(e,"\u0275fac",function(i){return new(i||e)}),U(e,"\u0275cmp",x({type:e,selectors:[["ng-component"]],decls:0,vars:0,template:function(i,r){},styles:[`.mat-badge{position:relative}.mat-badge.mat-badge{overflow:visible}.mat-badge-content{position:absolute;text-align:center;display:inline-block;transition:transform 200ms ease-in-out;transform:scale(0.6);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box;pointer-events:none;background-color:var(--mat-badge-background-color, var(--mat-sys-error));color:var(--mat-badge-text-color, var(--mat-sys-on-error));font-family:var(--mat-badge-text-font, var(--mat-sys-label-small-font));font-weight:var(--mat-badge-text-weight, var(--mat-sys-label-small-weight));border-radius:var(--mat-badge-container-shape, var(--mat-sys-corner-full))}.mat-badge-above .mat-badge-content{bottom:100%}.mat-badge-below .mat-badge-content{top:100%}.mat-badge-before .mat-badge-content{right:100%}[dir=rtl] .mat-badge-before .mat-badge-content{right:auto;left:100%}.mat-badge-after .mat-badge-content{left:100%}[dir=rtl] .mat-badge-after .mat-badge-content{left:auto;right:100%}@media(forced-colors: active){.mat-badge-content{outline:solid 1px;border-radius:0}}.mat-badge-disabled .mat-badge-content{background-color:var(--mat-badge-disabled-state-background-color, color-mix(in srgb, var(--mat-sys-error) 38%, transparent));color:var(--mat-badge-disabled-state-text-color, var(--mat-sys-on-error))}.mat-badge-hidden .mat-badge-content{display:none}.ng-animate-disabled .mat-badge-content,.mat-badge-content._mat-animation-noopable{transition:none}.mat-badge-content.mat-badge-active{transform:none}.mat-badge-small .mat-badge-content{width:var(--mat-badge-legacy-small-size-container-size, unset);height:var(--mat-badge-legacy-small-size-container-size, unset);min-width:var(--mat-badge-small-size-container-size, 6px);min-height:var(--mat-badge-small-size-container-size, 6px);line-height:var(--mat-badge-small-size-line-height, 6px);padding:var(--mat-badge-small-size-container-padding, 0);font-size:var(--mat-badge-small-size-text-size, 0);margin:var(--mat-badge-small-size-container-offset, -6px 0)}.mat-badge-small.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-small-size-container-overlap-offset, -6px)}.mat-badge-medium .mat-badge-content{width:var(--mat-badge-legacy-container-size, unset);height:var(--mat-badge-legacy-container-size, unset);min-width:var(--mat-badge-container-size, 16px);min-height:var(--mat-badge-container-size, 16px);line-height:var(--mat-badge-line-height, 16px);padding:var(--mat-badge-container-padding, 0 4px);font-size:var(--mat-badge-text-size, var(--mat-sys-label-small-size));margin:var(--mat-badge-container-offset, -12px 0)}.mat-badge-medium.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-container-overlap-offset, -12px)}.mat-badge-large .mat-badge-content{width:var(--mat-badge-legacy-large-size-container-size, unset);height:var(--mat-badge-legacy-large-size-container-size, unset);min-width:var(--mat-badge-large-size-container-size, 16px);min-height:var(--mat-badge-large-size-container-size, 16px);line-height:var(--mat-badge-large-size-line-height, 16px);padding:var(--mat-badge-large-size-container-padding, 0 4px);font-size:var(--mat-badge-large-size-text-size, var(--mat-sys-label-small-size));margin:var(--mat-badge-large-size-container-offset, -12px 0)}.mat-badge-large.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-large-size-container-overlap-offset, -12px)}
`],encapsulation:2,changeDetection:0}));let n=e;return n})(),Hi=(()=>{let e=class e{_ngZone=te(Ge);_elementRef=te(De);_ariaDescriber=te(Fi);_renderer=te(ii);_animationMode=te(Lt,{optional:!0});_idGenerator=te(Ni);get color(){return this._color}set color(t){this._setColor(t),this._color=t}_color="primary";overlap=!0;disabled;position="above after";get content(){return this._content}set content(t){this._updateRenderedContent(t)}_content;get description(){return this._description}set description(t){this._updateDescription(t)}_description;size="medium";hidden;_badgeElement;_inlineBadgeDescription;_isInitialized=!1;_interactivityChecker=te(Ai);_document=te(We);constructor(){let t=te(ki);t.load(Sn),t.load(Ti)}isAbove(){return this.position.indexOf("below")===-1}isAfter(){return this.position.indexOf("before")===-1}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){var t;this._renderer.destroyNode&&(this._renderer.destroyNode(this._badgeElement),(t=this._inlineBadgeDescription)==null||t.remove()),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_isHostInteractive(){return this._interactivityChecker.isFocusable(this._elementRef.nativeElement,{ignoreVisibility:!0})}_createBadgeElement(){let t=this._renderer.createElement("span"),i="mat-badge-active";return t.setAttribute("id",this._idGenerator.getId("mat-badge-content-")),t.setAttribute("aria-hidden","true"),t.classList.add(Ui),this._animationMode==="NoopAnimations"&&t.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(t),typeof requestAnimationFrame=="function"&&this._animationMode!=="NoopAnimations"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{t.classList.add(i)})}):t.classList.add(i),t}_updateRenderedContent(t){let i=`${t!=null?t:""}`.trim();this._isInitialized&&i&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=i),this._content=i}_updateDescription(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),(!t||this._isHostInteractive())&&this._removeInlineDescription(),this._description=t,this._isHostInteractive()?this._ariaDescriber.describe(this._elementRef.nativeElement,t):this._updateInlineDescription()}_updateInlineDescription(){var t;this._inlineBadgeDescription||(this._inlineBadgeDescription=this._document.createElement("span"),this._inlineBadgeDescription.classList.add("cdk-visually-hidden")),this._inlineBadgeDescription.textContent=this.description,(t=this._badgeElement)==null||t.appendChild(this._inlineBadgeDescription)}_removeInlineDescription(){var t;(t=this._inlineBadgeDescription)==null||t.remove(),this._inlineBadgeDescription=void 0}_setColor(t){let i=this._elementRef.nativeElement.classList;i.remove(`mat-badge-${this._color}`),t&&i.add(`mat-badge-${t}`)}_clearExistingBadges(){let t=this._elementRef.nativeElement.querySelectorAll(`:scope > .${Ui}`);for(let i of Array.from(t))i!==this._badgeElement&&i.remove()}};U(e,"\u0275fac",function(i){return new(i||e)}),U(e,"\u0275dir",je({type:e,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(i,r){i&2&&Vt("mat-badge-overlap",r.overlap)("mat-badge-above",r.isAbove())("mat-badge-below",!r.isAbove())("mat-badge-before",!r.isAfter())("mat-badge-after",r.isAfter())("mat-badge-small",r.size==="small")("mat-badge-medium",r.size==="medium")("mat-badge-large",r.size==="large")("mat-badge-hidden",r.hidden||!r.content)("mat-badge-disabled",r.disabled)},inputs:{color:[0,"matBadgeColor","color"],overlap:[2,"matBadgeOverlap","overlap",xe],disabled:[2,"matBadgeDisabled","disabled",xe],position:[0,"matBadgePosition","position"],content:[0,"matBadge","content"],description:[0,"matBadgeDescription","description"],size:[0,"matBadgeSize","size"],hidden:[2,"matBadgeHidden","hidden",xe]}}));let n=e;return n})(),Wi=(()=>{let e=class e{};U(e,"\u0275fac",function(i){return new(i||e)}),U(e,"\u0275mod",Ee({type:e})),U(e,"\u0275inj",Ie({imports:[Di,Ne,Ne]}));let n=e;return n})();function In(n,e){if(n&1&&(B(),s(0,"linearGradient"),u(1,"stop",5)(2,"stop",6),a()),n&2){let o=f(2);G("id",o.svg.outerLinearGradient.id),l(),G("stop-color",o.svg.outerLinearGradient.colorStop1)("stop-opacity",1),l(),G("stop-color",o.svg.outerLinearGradient.colorStop2)("stop-opacity",1)}}function wn(n,e){if(n&1&&(B(),s(0,"radialGradient"),u(1,"stop",5)(2,"stop",6),a()),n&2){let o=f(2);G("id",o.svg.radialGradient.id),l(),G("stop-color",o.svg.radialGradient.colorStop1)("stop-opacity",1),l(),G("stop-color",o.svg.radialGradient.colorStop2)("stop-opacity",1)}}function En(n,e){if(n&1&&(B(),u(0,"circle")),n&2){let o=f(3);G("cx",o.svg.backgroundCircle.cx)("cy",o.svg.backgroundCircle.cy)("r",o.svg.backgroundCircle.r)("fill",o.svg.backgroundCircle.fill)("fill-opacity",o.svg.backgroundCircle.fillOpacity)("stroke",o.svg.backgroundCircle.stroke)("stroke-width",o.svg.backgroundCircle.strokeWidth)}}function Mn(n,e){if(n&1&&(B(),u(0,"circle")),n&2){let o=f(3);zt("fill","url(",o.window.location.href,"#",o.svg.radialGradient.id,")"),G("cx",o.svg.backgroundCircle.cx)("cy",o.svg.backgroundCircle.cy)("r",o.svg.backgroundCircle.r)("fill-opacity",o.svg.backgroundCircle.fillOpacity)("stroke",o.svg.backgroundCircle.stroke)("stroke-width",o.svg.backgroundCircle.strokeWidth)}}function On(n,e){if(n&1&&(B(),be(0),C(1,En,1,7,"circle",2)(2,Mn,1,9,"circle",2),Ce()),n&2){let o=f(2);l(),p("ngIf",!o.options.backgroundGradient),l(),p("ngIf",o.options.backgroundGradient)}}function kn(n,e){if(n&1&&(B(),u(0,"circle")),n&2){let o=f(2);G("cx",o.svg.circle.cx)("cy",o.svg.circle.cy)("r",o.svg.circle.r)("fill",o.svg.circle.fill)("stroke",o.svg.circle.stroke)("stroke-width",o.svg.circle.strokeWidth)}}function Tn(n,e){if(n&1&&(B(),u(0,"path")),n&2){let o=f(3);G("d",o.svg.path.d)("stroke",o.svg.path.stroke)("stroke-width",o.svg.path.strokeWidth)("stroke-linecap",o.svg.path.strokeLinecap)("fill",o.svg.path.fill)}}function An(n,e){if(n&1&&(B(),u(0,"path")),n&2){let o=f(3);zt("stroke","url(",o.window.location.href,"#",o.svg.outerLinearGradient.id,")"),G("d",o.svg.path.d)("stroke-width",o.svg.path.strokeWidth)("stroke-linecap",o.svg.path.strokeLinecap)("fill",o.svg.path.fill)}}function Dn(n,e){if(n&1&&(B(),be(0),C(1,Tn,1,5,"path",2)(2,An,1,7,"path",2),Ce()),n&2){let o=f(2);l(),p("ngIf",!o.options.outerStrokeGradient),l(),p("ngIf",o.options.outerStrokeGradient)}}function Nn(n,e){if(n&1&&(B(),s(0,"tspan"),c(1),a()),n&2){let o=e.$implicit,t=f(4);G("x",t.svg.title.x)("y",t.svg.title.y)("dy",o.dy)("font-size",t.svg.title.fontSize)("font-weight",t.svg.title.fontWeight)("fill",t.svg.title.color),l(),S(o.span)}}function Fn(n,e){if(n&1&&(B(),be(0),C(1,Nn,2,7,"tspan",8),Ce()),n&2){let o=f(3);l(),p("ngForOf",o.svg.title.tspans)}}function Ln(n,e){if(n&1&&(B(),s(0,"tspan"),c(1),a()),n&2){let o=f(3);G("font-size",o.svg.units.fontSize)("font-weight",o.svg.units.fontWeight)("fill",o.svg.units.color),l(),S(o.svg.units.text)}}function zn(n,e){if(n&1&&(B(),s(0,"tspan"),c(1),a()),n&2){let o=e.$implicit,t=f(4);G("x",t.svg.subtitle.x)("y",t.svg.subtitle.y)("dy",o.dy)("font-size",t.svg.subtitle.fontSize)("font-weight",t.svg.subtitle.fontWeight)("fill",t.svg.subtitle.color),l(),S(o.span)}}function Vn(n,e){if(n&1&&(B(),be(0),C(1,zn,2,7,"tspan",8),Ce()),n&2){let o=f(3);l(),p("ngForOf",o.svg.subtitle.tspans)}}function Rn(n,e){if(n&1&&(B(),s(0,"text",7),C(1,Fn,2,1,"ng-container",2)(2,Ln,2,4,"tspan",2)(3,Vn,2,1,"ng-container",2),a()),n&2){let o=f(2);G("x",o.svg.circle.cx)("y",o.svg.circle.cy)("text-anchor",o.svg.title.textAnchor),l(),p("ngIf",o.options.showTitle),l(),p("ngIf",o.options.showUnits),l(),p("ngIf",o.options.showSubtitle)}}function Bn(n,e){if(n&1&&(B(),u(0,"image",9)),n&2){let o=f(2);G("height",o.svg.image.height)("width",o.svg.image.width)("href",o.svg.image.src,null,"xlink")("x",o.svg.image.x)("y",o.svg.image.y)}}function Gn(n,e){if(n&1){let o=N();B(),s(0,"svg",1),v("click",function(i){T(o);let r=f();return A(r.emitClickEvent(i))}),s(1,"defs"),C(2,In,3,5,"linearGradient",2)(3,wn,3,5,"radialGradient",2),a(),C(4,On,3,2,"ng-container",2)(5,kn,1,6,"circle",2)(6,Dn,3,2,"ng-container",2)(7,Rn,4,6,"text",3)(8,Bn,1,5,"image",4),a()}if(n&2){let o=f();G("viewBox",o.svg.viewBox)("height",o.svg.height)("width",o.svg.width)("class",o.options.class),l(2),p("ngIf",o.options.outerStrokeGradient),l(),p("ngIf",o.options.backgroundGradient),l(),p("ngIf",o.options.showBackground),l(),p("ngIf",o.options.showInnerStroke),l(),p("ngIf",+o.options.percent!=0||o.options.showZeroOuterStroke),l(),p("ngIf",!o.options.showImage&&(o.options.showTitle||o.options.showUnits||o.options.showSubtitle)),l(),p("ngIf",o.options.showImage)}}var _e=class{constructor(){this.class="",this.backgroundGradient=!1,this.backgroundColor="transparent",this.backgroundGradientStopColor="transparent",this.backgroundOpacity=1,this.backgroundStroke="transparent",this.backgroundStrokeWidth=0,this.backgroundPadding=5,this.percent=0,this.radius=90,this.space=4,this.toFixed=0,this.maxPercent=1e3,this.renderOnClick=!0,this.units="%",this.unitsFontSize="10",this.unitsFontWeight="normal",this.unitsColor="#444444",this.outerStrokeGradient=!1,this.outerStrokeWidth=8,this.outerStrokeColor="#78C000",this.outerStrokeGradientStopColor="transparent",this.outerStrokeLinecap="round",this.innerStrokeColor="#C7E596",this.innerStrokeWidth=4,this.titleFormat=void 0,this.title="auto",this.titleColor="#444444",this.titleFontSize="20",this.titleFontWeight="normal",this.subtitleFormat=void 0,this.subtitle="progress",this.subtitleColor="#A9A9A9",this.subtitleFontSize="10",this.subtitleFontWeight="normal",this.imageSrc=void 0,this.imageHeight=0,this.imageWidth=0,this.animation=!0,this.animateTitle=!0,this.animateSubtitle=!1,this.animationDuration=500,this.showTitle=!0,this.showSubtitle=!0,this.showUnits=!0,this.showImage=!1,this.showBackground=!0,this.showInnerStroke=!0,this.clockwise=!0,this.responsive=!1,this.startFromZero=!0,this.showZeroOuterStroke=!0,this.lazy=!1}},Yi=(()=>{class n{constructor(o,t,i,r){this.ngZone=t,this.elRef=i,this.onClick=new Q,this.svgElement=null,this.isInViewport=!1,this.onViewportChanged=new Q,this._viewportChangedSubscriber=null,this.options=new _e,this.defaultOptions=new _e,this._lastPercent=0,this._gradientUUID=null,this.render=()=>{this.applyOptions(),this.options.lazy?(this.svgElement===null&&this.draw(this._lastPercent),this.isInViewport&&(this.options.animation&&this.options.animationDuration>0?this.animate(this._lastPercent,this.options.percent):this.draw(this.options.percent),this._lastPercent=this.options.percent)):(this.options.animation&&this.options.animationDuration>0?this.animate(this._lastPercent,this.options.percent):this.draw(this.options.percent),this._lastPercent=this.options.percent)},this.polarToCartesian=(d,m,b,_)=>{let P=_*Math.PI/180,O=d+Math.sin(P)*b,F=m-Math.cos(P)*b;return{x:O,y:F}},this.draw=d=>{d=d===void 0?this.options.percent:Math.abs(d);let m=d>100?100:d,b=this.options.radius*2+this.options.outerStrokeWidth*2;this.options.showBackground&&(b+=this.options.backgroundStrokeWidth*2+this.max(0,this.options.backgroundPadding*2));let _={x:b/2,y:b/2},P={x:_.x,y:_.y-this.options.radius},O=this.polarToCartesian(_.x,_.y,this.options.radius,360*(this.options.clockwise?m:100-m)/100);m===100&&(O.x=O.x+(this.options.clockwise?-.01:.01));let F,le;m>50?[F,le]=this.options.clockwise?[1,1]:[1,0]:[F,le]=this.options.clockwise?[0,1]:[0,0];let q=this.options.animateTitle?d:this.options.percent,ze=q>this.options.maxPercent?`${this.options.maxPercent.toFixed(this.options.toFixed)}+`:q.toFixed(this.options.toFixed),Ae=this.options.animateSubtitle?d:this.options.percent,ce={x:_.x,y:_.y,textAnchor:"middle",color:this.options.titleColor,fontSize:this.options.titleFontSize,fontWeight:this.options.titleFontWeight,texts:[],tspans:[]};if(this.options.titleFormat!==void 0&&this.options.titleFormat.constructor.name==="Function"){let Z=this.options.titleFormat(q);Z instanceof Array?ce.texts=[...Z]:ce.texts.push(Z.toString())}else this.options.title==="auto"?ce.texts.push(ze):this.options.title instanceof Array?ce.texts=[...this.options.title]:ce.texts.push(this.options.title.toString());let de={x:_.x,y:_.y,textAnchor:"middle",color:this.options.subtitleColor,fontSize:this.options.subtitleFontSize,fontWeight:this.options.subtitleFontWeight,texts:[],tspans:[]};if(this.options.subtitleFormat!==void 0&&this.options.subtitleFormat.constructor.name==="Function"){let Z=this.options.subtitleFormat(Ae);Z instanceof Array?de.texts=[...Z]:de.texts.push(Z.toString())}else this.options.subtitle instanceof Array?de.texts=[...this.options.subtitle]:de.texts.push(this.options.subtitle.toString());let xn={text:`${this.options.units}`,fontSize:this.options.unitsFontSize,fontWeight:this.options.unitsFontWeight,color:this.options.unitsColor},Ve=0,Re=1;if(this.options.showTitle&&(Ve+=ce.texts.length),this.options.showSubtitle&&(Ve+=de.texts.length),this.options.showTitle)for(let Z of ce.texts)ce.tspans.push({span:Z,dy:this.getRelativeY(Re,Ve)}),Re++;if(this.options.showSubtitle)for(let Z of de.texts)de.tspans.push({span:Z,dy:this.getRelativeY(Re,Ve)}),Re++;this._gradientUUID===null&&(this._gradientUUID=this.uuid()),this.svg={viewBox:`0 0 ${b} ${b}`,width:this.options.responsive?"100%":b,height:this.options.responsive?"100%":b,backgroundCircle:{cx:_.x,cy:_.y,r:this.options.radius+this.options.outerStrokeWidth/2+this.options.backgroundPadding,fill:this.options.backgroundColor,fillOpacity:this.options.backgroundOpacity,stroke:this.options.backgroundStroke,strokeWidth:this.options.backgroundStrokeWidth},path:{d:`M ${P.x} ${P.y}
        A ${this.options.radius} ${this.options.radius} 0 ${F} ${le} ${O.x} ${O.y}`,stroke:this.options.outerStrokeColor,strokeWidth:this.options.outerStrokeWidth,strokeLinecap:this.options.outerStrokeLinecap,fill:"none"},circle:{cx:_.x,cy:_.y,r:this.options.radius-this.options.space-this.options.outerStrokeWidth/2-this.options.innerStrokeWidth/2,fill:"none",stroke:this.options.innerStrokeColor,strokeWidth:this.options.innerStrokeWidth},title:ce,units:xn,subtitle:de,image:{x:_.x-this.options.imageWidth/2,y:_.y-this.options.imageHeight/2,src:this.options.imageSrc,width:this.options.imageWidth,height:this.options.imageHeight},outerLinearGradient:{id:"outer-linear-"+this._gradientUUID,colorStop1:this.options.outerStrokeColor,colorStop2:this.options.outerStrokeGradientStopColor==="transparent"?"#FFF":this.options.outerStrokeGradientStopColor},radialGradient:{id:"radial-"+this._gradientUUID,colorStop1:this.options.backgroundColor,colorStop2:this.options.backgroundGradientStopColor==="transparent"?"#FFF":this.options.backgroundGradientStopColor}}},this.getAnimationParameters=(d,m)=>{let _,P,O,F=this.options.startFromZero||d<0?0:d,le=m<0?0:this.min(m,this.options.maxPercent),q=Math.abs(Math.round(le-F));return q>=100?(_=100,!this.options.animateTitle&&!this.options.animateSubtitle?P=1:P=Math.round(q/_)):(_=q,P=1),O=Math.round(this.options.animationDuration/_),O<10&&(O=10,_=this.options.animationDuration/O,!this.options.animateTitle&&!this.options.animateSubtitle&&q>100?P=Math.round(100/_):P=Math.round(q/_)),P<1&&(P=1),{times:_,step:P,interval:O}},this.animate=(d,m)=>{this._timerSubscription&&!this._timerSubscription.closed&&this._timerSubscription.unsubscribe();let b=this.options.startFromZero?0:d,_=m,{step:P,interval:O}=this.getAnimationParameters(b,_),F=b;b<_?this._timerSubscription=Be(0,O).subscribe(()=>{F+=P,F<=_?!this.options.animateTitle&&!this.options.animateSubtitle&&F>=100?(this.draw(_),this._timerSubscription.unsubscribe()):this.draw(F):(this.draw(_),this._timerSubscription.unsubscribe())}):this._timerSubscription=Be(0,O).subscribe(()=>{F-=P,F>=_?!this.options.animateTitle&&!this.options.animateSubtitle&&_>=100?(this.draw(_),this._timerSubscription.unsubscribe()):this.draw(F):(this.draw(_),this._timerSubscription.unsubscribe())})},this.applyOptions=()=>{for(let d of Object.keys(this.options))this.hasOwnProperty(d)&&this[d]!==void 0?this.options[d]=this[d]:this.templateOptions&&this.templateOptions[d]!==void 0&&(this.options[d]=this.templateOptions[d]);this.options.radius=Math.abs(+this.options.radius),this.options.space=+this.options.space,this.options.percent=+this.options.percent>0?+this.options.percent:0,this.options.maxPercent=Math.abs(+this.options.maxPercent),this.options.animationDuration=Math.abs(this.options.animationDuration),this.options.outerStrokeWidth=Math.abs(+this.options.outerStrokeWidth),this.options.innerStrokeWidth=Math.abs(+this.options.innerStrokeWidth),this.options.backgroundPadding=+this.options.backgroundPadding},this.getRelativeY=(d,m)=>(-.18+1*(d-m/2)).toFixed(2)+"em",this.min=(d,m)=>d<m?d:m,this.max=(d,m)=>d>m?d:m,this.uuid=()=>{var d=new Date().getTime(),m="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var _=(d+Math.random()*16)%16|0;return d=Math.floor(d/16),(b=="x"?_:_&3|8).toString(16)});return m},this.checkViewport=()=>{this.findSvgElement();let d=this.isInViewport;this.isInViewport=this.isElementInViewport(this.svgElement),d!==this.isInViewport&&this.onViewportChanged.observers.length>0&&this.ngZone.run(()=>{this.onViewportChanged.emit({oldValue:d,newValue:this.isInViewport})})},this.onScroll=d=>{this.checkViewport()},this.loadEventsForLazyMode=()=>{if(this.options.lazy){this.ngZone.runOutsideAngular(()=>{this.document.addEventListener("scroll",this.onScroll,!0),this.window.addEventListener("resize",this.onScroll,!0)}),this._viewportChangedSubscriber===null&&(this._viewportChangedSubscriber=this.onViewportChanged.subscribe(({oldValue:m,newValue:b})=>{b&&this.render()}));let d=Be(0,50).subscribe(()=>{this.svgElement===null?this.checkViewport():d.unsubscribe()})}},this.unloadEventsForLazyMode=()=>{this.document.removeEventListener("scroll",this.onScroll,!0),this.window.removeEventListener("resize",this.onScroll,!0),this._viewportChangedSubscriber!==null&&(this._viewportChangedSubscriber.unsubscribe(),this._viewportChangedSubscriber=null)},this.document=r.get(We),this.window=this.document.defaultView,Object.assign(this.options,o),Object.assign(this.defaultOptions,o)}emitClickEvent(o){this.options.renderOnClick&&this.animate(0,this.options.percent),this.onClick.observers.length>0&&this.onClick.emit(o)}isDrawing(){return this._timerSubscription&&!this._timerSubscription.closed}findSvgElement(){if(this.svgElement===null){let o=this.elRef.nativeElement.getElementsByTagName("svg");o.length>0&&(this.svgElement=o[0])}}isElementInViewport(o){if(o==null)return!1;let t=o.getBoundingClientRect(),i=o.parentNode,r;do{if(r=i.getBoundingClientRect(),t.top>=r.bottom||t.bottom<=r.top||t.left>=r.right||t.right<=r.left)return!1;i=i.parentNode}while(i!=this.document.body);return!(t.top>=(this.window.innerHeight||this.document.documentElement.clientHeight)||t.bottom<=0||t.left>=(this.window.innerWidth||this.document.documentElement.clientWidth)||t.right<=0)}ngOnInit(){this.loadEventsForLazyMode()}ngOnDestroy(){this.unloadEventsForLazyMode()}ngOnChanges(o){this.render(),"lazy"in o&&(o.lazy.currentValue?this.loadEventsForLazyMode():this.unloadEventsForLazyMode())}}return n.\u0275fac=function(o){return new(o||n)(h(_e),h(Ge),h(De),h(ti))},n.\u0275cmp=x({type:n,selectors:[["circle-progress"]],inputs:{name:"name",class:"class",backgroundGradient:"backgroundGradient",backgroundColor:"backgroundColor",backgroundGradientStopColor:"backgroundGradientStopColor",backgroundOpacity:"backgroundOpacity",backgroundStroke:"backgroundStroke",backgroundStrokeWidth:"backgroundStrokeWidth",backgroundPadding:"backgroundPadding",radius:"radius",space:"space",percent:"percent",toFixed:"toFixed",maxPercent:"maxPercent",renderOnClick:"renderOnClick",units:"units",unitsFontSize:"unitsFontSize",unitsFontWeight:"unitsFontWeight",unitsColor:"unitsColor",outerStrokeGradient:"outerStrokeGradient",outerStrokeWidth:"outerStrokeWidth",outerStrokeColor:"outerStrokeColor",outerStrokeGradientStopColor:"outerStrokeGradientStopColor",outerStrokeLinecap:"outerStrokeLinecap",innerStrokeColor:"innerStrokeColor",innerStrokeWidth:"innerStrokeWidth",titleFormat:"titleFormat",title:"title",titleColor:"titleColor",titleFontSize:"titleFontSize",titleFontWeight:"titleFontWeight",subtitleFormat:"subtitleFormat",subtitle:"subtitle",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",subtitleFontWeight:"subtitleFontWeight",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",animation:"animation",animateTitle:"animateTitle",animateSubtitle:"animateSubtitle",animationDuration:"animationDuration",showTitle:"showTitle",showSubtitle:"showSubtitle",showUnits:"showUnits",showImage:"showImage",showBackground:"showBackground",showInnerStroke:"showInnerStroke",clockwise:"clockwise",responsive:"responsive",startFromZero:"startFromZero",showZeroOuterStroke:"showZeroOuterStroke",lazy:"lazy",templateOptions:[0,"options","templateOptions"]},outputs:{onClick:"onClick"},standalone:!1,features:[we],decls:1,vars:1,consts:[["xmlns","http://www.w3.org/2000/svg","preserveAspectRatio","xMidYMid meet",3,"click",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","preserveAspectRatio","xMidYMid meet",3,"click"],[4,"ngIf"],["alignment-baseline","baseline",4,"ngIf"],["preserveAspectRatio","none",4,"ngIf"],["offset","5%"],["offset","95%"],["alignment-baseline","baseline"],[4,"ngFor","ngForOf"],["preserveAspectRatio","none"]],template:function(o,t){o&1&&C(0,Gn,9,11,"svg",0),o&2&&p("ngIf",t.svg)},dependencies:[ne,H],encapsulation:2}),n})(),Qi=(()=>{class n{static forRoot(o={}){return{ngModule:n,providers:[{provide:_e,useValue:o}]}}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=Ee({type:n}),n.\u0275inj=Ie({imports:[R]}),n})();function Hn(n,e){if(n&1&&(s(0,"ion-text",8)(1,"span"),c(2),a(),c(3,"/ "),s(4,"span"),c(5),a()()),n&2){let o=f();l(2),L("N\xB0Police ",o.data.numeroPolice,""),l(3),L("N\xB0Quittance ",o.data.numeroQuittance,"")}}function Wn(n,e){if(n&1&&(s(0,"ion-text",8)(1,"span"),c(2),a()()),n&2){let o=f();l(2),L("",o.data.etatQuittance," ...")}}function Yn(n,e){if(n&1){let o=N();s(0,"ion-col",9),v("click",function(){T(o);let i=f();return A(i.toggleSelect())}),u(1,"ion-checkbox",10),a()}if(n&2){let o=f();l(),ye("checked",o.data.selected)}}function Qn(n,e){n&1&&(s(0,"ion-col",11),u(1,"ion-icon",12),a())}var $i=(()=>{let e=class e{constructor(t,i,r){this.store=t,this.session=i,this.translate=r,this.childEvent=new Q}ngOnChanges(t){let i=t.selectInput.currentValue;i.action!=="None"?setTimeout(()=>{this.data.selected=i.value,this.remotChildEvent()},5):this.data.selected=!1}ngOnInit(){this.isPadding=this.data.etatQuittance===lt.PENDING_FOR_PROCESS,this.backgroundStyle=this.isPadding?"item-impaye-pending":"item-impaye",this.devise=this.store.storeValue(g.FILIALE).devise,this.session.storeValue("panier")&&this.session.storeValue("panier").find(i=>{i.numeroQuittance===this.data.numeroQuittance&&(this.data.selected=!0)})}toggleSelect(){this.data.selected=!this.data.selected,this.remotChildEvent()}remotChildEvent(){let t={action:this.data.selected?"ADD":"REMOVE",value:this.data};this.childEvent.emit(t)}};e.\u0275fac=function(i){return new(i||e)(h(M),h(V),h(at))},e.\u0275cmp=x({type:e,selectors:[["app-item-impaye"]],inputs:{data:"data",selectInput:"selectInput"},outputs:{childEvent:"childEvent"},features:[we],decls:22,vars:28,consts:[["id","item-impaye-component"],[1,"ion-align-items-center"],["size","10"],["color","secondary"],["color","primary"],["class","border-style","color","primary",4,"ngIf"],["size","2",3,"click",4,"ngIf"],["size","2",4,"ngIf"],["color","primary",1,"border-style"],["size","2",3,"click"],["color","secondary",3,"checked"],["size","2"],["size","large","name","timer-outline"]],template:function(i,r){i&1&&(s(0,"div",0)(1,"ion-row",1)(2,"ion-col",2)(3,"ion-text",3)(4,"h3"),c(5),$(6,"translate"),$(7,"number"),a()(),s(8,"ion-text",4)(9,"span"),c(10),$(11,"translate"),$(12,"date"),$(13,"translate"),$(14,"date"),a()(),s(15,"ion-text",4)(16,"span"),c(17),a()(),C(18,Hn,6,2,"ion-text",5)(19,Wn,3,1,"ion-text",5),a(),C(20,Yn,2,1,"ion-col",6)(21,Qn,2,0,"ion-col",7),a()()),i&2&&(Ue(r.backgroundStyle),l(5),oi(" ",ie(6,14,"DETAIL_CONTRAT_SCREEN.tableSlider.slideImpaye.content.itemPeesrions.amount")," ",ie(7,16,r.data.montantQuittance)," ",r.devise,""),l(5),ri(" ",ie(11,18,"DETAIL_CONTRAT_SCREEN.tableSlider.slideImpaye.content.itemPeesrions.prestDate")," ",Rt(12,20,r.data.debutPeriode,"dd/MM/yyyy")," ",ie(13,23,"DETAIL_CONTRAT_SCREEN.tableSlider.slideImpaye.content.itemPeesrions.prestEnd")," ",Rt(14,25,r.data.finPeriode,"dd/MM/yyyy")," "),l(7),S(r.data.libellePolice),l(),p("ngIf",!r.isPadding),l(),p("ngIf",r.isPadding),l(),p("ngIf",!r.isPadding),l(),p("ngIf",r.isPadding))},dependencies:[R,H,pe,ci,E,D,oe,xi,z,wi,Ii],styles:['#item-impaye-component[_ngcontent-%COMP%]{padding:2px;border-radius:5px;margin-bottom:10px}#item-impaye-component[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;padding:0;font-size:1.1rem!important;font-weight:200!important}#item-impaye-component[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-size:.8rem!important;font-weight:200!important}.item-impaye-pending[_ngcontent-%COMP%]{background-image:linear-gradient(to right bottom,#dadadafb,#dadadafb),url("./media/impay-bg-vector-MEAB2ZSN.jpg")}.item-impaye[_ngcontent-%COMP%]{background-color:#fff}.border-style[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}.border-style[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0;color:gray;font-size:.8rem!important;font-weight:200!important;margin-right:5px}']});let n=e;return n})();var $n=new qt("MAT_SORT_DEFAULT_OPTIONS"),Xi=(()=>{let e=class e{_defaultOptions;_initializedStream=new Jt(1);sortables=new Map;_stateChanges=new Ft;active;start="asc";get direction(){return this._direction}set direction(t){this._direction=t}_direction="";disableClear;disabled=!1;sortChange=new Q;initialized=this._initializedStream;constructor(t){this._defaultOptions=t}register(t){this.sortables.set(t.id,t)}deregister(t){this.sortables.delete(t.id)}sort(t){this.active!=t.id?(this.active=t.id,this.direction=t.start?t.start:this.start):this.direction=this.getNextSortDirection(t),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(t){var m,b,_;if(!t)return"";let i=(_=(m=t==null?void 0:t.disableClear)!=null?m:this.disableClear)!=null?_:!!((b=this._defaultOptions)!=null&&b.disableClear),r=Xn(t.start||this.start,i),d=r.indexOf(this.direction)+1;return d>=r.length&&(d=0),r[d]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}};U(e,"\u0275fac",function(i){return new(i||e)(h($n,8))}),U(e,"\u0275dir",je({type:e,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",xe],disabled:[2,"matSortDisabled","disabled",xe]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[we]}));let n=e;return n})();function Xn(n,e){let o=["asc","desc"];return n=="desc"&&o.reverse(),e||o.push(""),o}var jt=(()=>{let e=class e{changes=new Ft};U(e,"\u0275fac",function(i){return new(i||e)}),U(e,"\u0275prov",k({token:e,factory:e.\u0275fac,providedIn:"root"}));let n=e;return n})();function Kn(n){return n||new jt}var Jn={provide:jt,deps:[[new Zt,new ei,jt]],useFactory:Kn};var Ki=(()=>{let e=class e{};U(e,"\u0275fac",function(i){return new(i||e)}),U(e,"\u0275mod",Ee({type:e})),U(e,"\u0275inj",Ie({providers:[Jn],imports:[Ne]}));let n=e;return n})();function eo(n,e){if(n&1&&u(0,"ng-lottie",6),n&2){let o=f();p("options",o.hub2AnimationOptions)}}function to(n,e){if(n&1&&(s(0,"p",7),c(1),a()),n&2){let o=f();l(),S(o.data.message)}}function io(n,e){if(n&1&&(s(0,"form",8)(1,"ion-row",9)(2,"ion-item"),u(3,"ion-icon",10)(4,"ion-input",11),a()()()),n&2){let o=f();p("formGroup",o.formCodeOTP)}}function no(n,e){if(n&1&&u(0,"ng-lottie",6),n&2){let o=f(2);p("options",o.loadingAnimationOptions)}}function oo(n,e){if(n&1&&u(0,"ng-lottie",6),n&2){let o=f(2);p("options",o.validationAnimationOptions)}}function ro(n,e){if(n&1&&(s(0,"div",12),C(1,no,1,1,"ng-lottie",1)(2,oo,1,1,"ng-lottie",1),a()),n&2){let o=f();l(),p("ngIf",!o.isValid),l(),p("ngIf",o.isValid)}}var Ji=(()=>{let e=class e{constructor(t,i){this.modalCtrl=t,this.store=i,this.isLunch=!1,this.isValid=!1,this.devise="",this.hub2AnimationOptions={path:"https://assets2.lottiefiles.com/packages/lf20_fk1xhy4h.json",loop:!0,autoplay:!0},this.loadingAnimationOptions={path:"../assets/lotties/lot_loading.json",loop:!0,autoplay:!0},this.validationAnimationOptions={path:"../assets/lotties/lot_validate.json",loop:!0,autoplay:!0}}ngOnInit(){this.devise=this.store.storeValue(g.FILIALE).devise,this.formCodeOTP=new di({codeOTP:new pi("",[Bt.required,Bt.pattern(/^[0-9]*$/)])}),this.formCodeOTP.valueChanges.subscribe(t=>{if(t.codeOTP.length===4){this.isLunch=!0;let i={IdentificationPayment:this.data.paymentId,ConfirmationCodeCustomer:t.codeOTP};this.callback(i).then(r=>{r.status==="successful"?(this.isValid=!0,this.modalCtrl.dismiss(r)):(this.isValid=!1,this.isLunch=!1)})}})}};e.\u0275fac=function(i){return new(i||e)(h(re),h(M))},e.\u0275cmp=x({type:e,selectors:[["app-hub2-modal"]],inputs:{data:"data",callback:"callback"},decls:25,vars:11,consts:[["id","hub2-modal-cmp"],[3,"options",4,"ngIf"],[1,"box-item","bottom-lign"],["class","title","style","background-color: blanchedalmond;",4,"ngIf"],["class","ion-padding",3,"formGroup",4,"ngIf"],["class","box-loading box-center",4,"ngIf"],[3,"options"],[1,"title",2,"background-color","blanchedalmond"],[1,"ion-padding",3,"formGroup"],[1,"input-box"],["color","dark","slot","start","name","keypad-outline"],["formControlName","codeOTP","color","dark","type","string","placeholder","Exemple : 0102"],[1,"box-loading","box-center"]],template:function(i,r){i&1&&(s(0,"div",0),C(1,eo,1,1,"ng-lottie",1),s(2,"div",2)(3,"span"),c(4,"t\xE9l\xE9phone "),a(),s(5,"span"),c(6),a()(),s(7,"div",2)(8,"span"),c(9,"montant "),a(),s(10,"span"),c(11),a()(),s(12,"div",2)(13,"span"),c(14,"frais "),a(),s(15,"span"),c(16),a()(),s(17,"div",2)(18,"span"),c(19,"Total "),a(),s(20,"span"),c(21),a()(),C(22,to,2,1,"p",3)(23,io,5,1,"form",4)(24,ro,3,2,"div",5),a()),i&2&&(l(),p("ngIf",!r.isValid),l(5),S(r.data.phoneNumber),l(5),X("",r.data.amount," ",r.devise,""),l(5),X("",r.data.frais," ",r.devise,""),l(5),X("",r.data.totalAmount," ",r.devise,""),l(),p("ngIf",!r.isValid),l(),p("ngIf",!r.isLunch),l(),p("ngIf",r.isLunch))},dependencies:[et,Je,Xe,Ke,qe,Ze,rt,H,E,nt,z,ot],styles:["#hub2-modal-cmp{margin:0;width:100%;border-radius:8px;height:30rem!important;padding:2rem!important;background-color:var(--ion-color-white);display:flex;flex-direction:column;justify-content:flex-start;align-items:center}  .hub2-modal-style .ion-page{display:flex;align-items:flex-end;flex-direction:column;justify-content:flex-end;background:#2e2b2b85}  .sc-ion-modal-md-h{--background: transparent !important}  .sc-ion-modal-ios-h{--background: transparent !important}.title[_ngcontent-%COMP%]{font-size:.9rem;font-weight:200;text-align:center;margin-top:1rem!important;color:var(--ion-color-dark);padding:.5rem;border-radius:.2rem}.btn-submit[_ngcontent-%COMP%]{margin-top:2rem!important}.btn-submit[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;color:var(--ion-color-white);background-color:var(--ion-color-secondary)}ng-lottie[_ngcontent-%COMP%]{height:10rem;width:auto}.box-item[_ngcontent-%COMP%]{width:95%;padding:0;display:flex;flex-direction:row;align-items:center;justify-content:space-between;margin-bottom:.2rem!important}.box-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){color:#3d3d3dad!important}.box-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){color:#04274e!important}.bottom-lign[_ngcontent-%COMP%]{border-bottom:1px solid rgb(223,223,223)}.box-center[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center}.box-loading[_ngcontent-%COMP%]   ng-lottie[_ngcontent-%COMP%]{height:6rem;width:auto}"]});let n=e;return n})();var dt=class{static build(e){return{frais:e.Fees,amount:e.Amount,message:e.Message,paymentId:e.PaymentIntentId,totalAmount:e.TotalTransaction,phoneNumber:e.CustomerReference,modeConfirmation:e.TypeConfirmation}}};var pt=class{static build(e){return{status:e.Statut,amount:e.Amount,message:e.Message,dateCreated:e.DateCreation,paymentId:e.PaymentId,phoneNumber:e.PurchaseReference,transactionRef:e.PurchaseReference}}};var mt=class{constructor(e){this.payAPI=e,this.message=""}debitMoney(e){return y(this,null,function*(){return yield this.payAPI.intentPay(e).then(o=>(console.log("payPrime :::> ",o),this.message=o.Message,this.createPaiementMobileFactory(o)))})}verifyOperationMoney(e){return y(this,null,function*(){return yield this.payAPI.verifyPaymentStatus(e).then(o=>(console.log("resp operation :::> ",o),this.message=o.Message,this.createPayProcessFactory(o)))})}createPaiementMobileFactory(e){return dt.build(e)}createPayProcessFactory(e){return pt.build(e)}};var qi=(()=>{let e=class e{constructor(t){this.httpClient=t,this.urlAPI=Pi.hub2Hostname,this.httpHeader={headers:new Se({"Content-Type":"application/json","Access-Control-Allow-Origin":"*","x-autho-kobus-cli":"kb-01fviUe@478As==40"})}}intentPay(t){return this.httpClient.post(`${this.urlAPI}/InitializePayment`,t,this.httpHeader).toPromise()}verifyPaymentStatus(t){return this.httpClient.post(`${this.urlAPI}/ConfirmePayment`,t,this.httpHeader).toPromise()}};e.\u0275fac=function(i){return new(i||e)(I(me))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Zi=(()=>{let e=class e extends mt{constructor(t){super(t),this.extranetAPI=t}intentPay(t){return this.debitMoney(t)}verifyPaymentStatus(t){return this.verifyOperationMoney(t)}};e.\u0275fac=function(i){return new(i||e)(I(qi))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var ut=class{constructor(e){this.payAPI=e,this.message="",this.payPrimeBehaviorSubject=new ee(null)}debitMoney(e){return y(this,null,function*(){return yield this.payAPI.intentPay(e).then(o=>(this.message=o.Message,this.createPaiementMobileObject(o)))})}createPaiementMobileObject(e){return{statutTransaction:e.CodeStatutTransaction,codeStatutTransaction:e.StatutTransaction,numero:e.numero,message:e.Message,montant:e.montant,operateur:e.operateur,refId:e.reftransaction,refTransaction:e.ReferenceId}}checkTransactionStatus(e){return y(this,null,function*(){return yield this.payAPI.verifyPaymentStatus(e).then(o=>o)})}};var en=(()=>{let e=class e{constructor(t,i){this._store=t,this.httpClient=i;let r=this._store.storeValue(g.FILIALE).ixpertaPayApiKey;this.httpHeader={headers:new Se({"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Api-Key":r})}}intentPay(t){let i=this._store.storeValue(g.FILIALE).ixpertaPayHostname;return this.httpClient.post(`${i}/api/TransactionOperateur`,t,this.httpHeader).toPromise()}verifyPaymentStatus(t){let i=this._store.storeValue(g.FILIALE).ixpertaPayHostname;return this.httpClient.post(`${i}/api/CheckTransactionOperateur`,t,this.httpHeader).toPromise()}};e.\u0275fac=function(i){return new(i||e)(I(M),I(me))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var tn=(()=>{let e=class e extends ut{constructor(t){super(t)}intentPay(t){return this.debitMoney(t)}verifyPaymentStatus(t){return this.checkTransactionStatus(t)}};e.\u0275fac=function(i){return new(i||e)(I(en))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function uo(n,e){if(n&1&&(s(0,"ion-row",1)(1,"ion-col",2)(2,"span"),c(3,"Code OTP "),u(4,"strong",3),a()(),s(5,"ion-item"),u(6,"ion-icon",11)(7,"ion-input",12),a()()),n&2){let o=f();l(7),p("disabled",o.isLunched)}}function ho(n,e){if(n&1){let o=N();s(0,"div",13)(1,"button",14),v("click",function(){T(o);let i=f();return A(i.onPayOperation())}),u(2,"ion-icon",15),c(3," Finaliser votre operation"),a()()}if(n&2){let o=f();l(),p("disabled",o.payForm.invalid)}}function go(n,e){if(n&1&&u(0,"ng-lottie",18),n&2){let o=f(2);p("options",o.loadingAnimationOptions)}}function fo(n,e){if(n&1&&u(0,"ng-lottie",18),n&2){let o=f(2);p("options",o.validateAnimationOptions)}}function _o(n,e){if(n&1&&(s(0,"div",16),C(1,go,1,1,"ng-lottie",17)(2,fo,1,1,"ng-lottie",17),a()),n&2){let o=f();l(),p("ngIf",!o.payStatut),l(),p("ngIf",o.payStatut)}}var on=(()=>{let e=class e{constructor(t,i,r,d,m,b,_){this.store=t,this._session=i,this.spinner=r,this.modalCtrl=d,this._hub2PayService=m,this.configSpinner=b,this._ixpertaPayService=_,this.listQuittence=[],this.isAuth=!1,this.isLunched=!1,this.payStatut=!1,this.loadingAnimationOptions={path:"../../../assets/lotties/lot_loading.json",loop:!0,autoplay:!0},this.validateAnimationOptions={path:"../../../assets/lotties/lot_validate.json",loop:!0,autoplay:!0},this.onCheckTransactionByHub2Integrator=P=>this._hub2PayService.verifyPaymentStatus(P).then(O=>O),this.devise=t.storeValue("filiale").devise,this.userProfil=this._session.storeValue(g.CURRENT_USER)}get phoneNumber(){return this.payForm.get("phoneNumber")}ngOnInit(){this.cashData=this.payData,this.operatorSelected=this.payData.operatorSelected,this.isAuth=this.store.storeValue("auth")!==void 0,this.payForm=this.getForm()}getForm(){switch(this.integrator){case"Hub2":return new Oi(this.isAuth?this.userProfil.telephone:this.payData.phoneNumber).buildForm();case"IxpertaPay":return new Mi(this.isAuth?this.userProfil.telephone:this.payData.phoneNumber).buildForm(this.operatorSelected._needOTP)}}onPayOperation(){return y(this,null,function*(){switch(this.isLunched=!0,console.log("integrateur :::> ",this.integrator),this.integrator){case"Hub2":this.payByHub2Integrator();break;case"IxpertaPay":default:this.payByIxpertaIntegrator();break}})}generateOperatorLabel(t){return t.indexOf(" ")!==-1?t.substr(0,t.indexOf(" ")):t}payByIxpertaIntegrator(){let t={devise:this.devise,montant:this.cashData.amount,reftransaction:Gt.generatePayRef(),numero:this.payForm.value.phoneNumber,OTPCode:this.operatorSelected._needOTP?this.payForm.value.codeOTP:"",CodeFiliale:this.cashData.codeFiliale,CodeOperateur:this.operatorSelected._codeOperateur};this._ixpertaPayService.intentPay(t).then(i=>{if(i.codeStatutTransaction!==200&&i.statutTransaction!=="Init")W.show("Echec de paiement",i.message,j.error).then(r=>this.isLunched=!1);else{let r={Reftransaction:i.refId,numero:t.numero,Filliale:t.CodeFiliale};this.configSpinner.setMessage(i.message),this.spinner.show(),this.onCheckTransactionByIxpertaIntegrator(r)}}).catch(i=>{this.spinner.hide(),W.show("Echec de paiement","",j.error).then(r=>this.isLunched=!1),console.log("error pay :::> ",i)})}onCheckTransactionByIxpertaIntegrator(t){let i=0,r=30,d=!1,m,b=()=>{this._ixpertaPayService.verifyPaymentStatus(t).then(_=>m=_).finally(()=>y(this,null,function*(){if(i++,yield Gt.sleep(2e3),i===r&&(d=!0,this.spinner.hide(),this.isLunched=!1,W.show("Echec de paiement","",j.error)),(m==null?void 0:m.CodeStatutTransaction)==="SUC"){d=!0,this.isLunched=!1,this.payStatut=!0;let _={description:m.operateur,transactionId:m.reftransaction,dateCreated:new Date().toString(),amount:m.montant,paye:!0,phoneNumber:""};this.spinner.hide(),this.modalCtrl.dismiss(_,"success","pay_integrator_modal").then(P=>this.modalCtrl.dismiss())}!d&&b()}))};b()}payByHub2Integrator(){let t={Amount:this.cashData.amount,Operateur:this.operatorSelected._operateur,CustomerReference:"00000001",DescriptionPayment:""};this._hub2PayService.intentPay(t).then(i=>{console.log("hub2 response :::> ",i),this.modalHub2ConfirmModal(i)})}ionViewDidLeave(){this.spinner.hide()}modalHub2ConfirmModal(t){return y(this,null,function*(){let i=yield this.modalCtrl.create({component:Ji,cssClass:"hub2-modal-style",id:"modal_hub2_confirm",componentProps:{data:t,callback:this.onCheckTransactionByHub2Integrator}});yield i.present(),i.onDidDismiss().then(r=>{console.log("pay data :::> ",r);let d={description:r.data,transactionId:r.data.paymentId,dateCreated:r.data.dateCreated,amount:t.amount,paye:!0,phoneNumber:r.data.phoneNumber};this.isLunched=!1,this.payStatut=!0,this.modalCtrl.dismiss(d,"success","pay_integrator_modal").then(m=>{}).finally(()=>this.modalCtrl.dismiss())})})}};e.\u0275fac=function(i){return new(i||e)(h(M),h(V),h(fe),h(re),h(Zi),h(ke),h(tn))},e.\u0275cmp=x({type:e,selectors:[["app-mobil-money-form"]],inputs:{payData:"payData",integrator:"integrator"},decls:30,vars:14,consts:[[1,"ion-padding",3,"formGroup"],[1,"input-box"],["size","12",1,"ion-no-padding"],["color","#ff9100"],["color","dark","slot","start","name","call-outline"],["color","dark","formControlName","phoneNumber","type","tel",3,"disabled","placeholder"],["class","input-box",4,"ngIf"],["matSort",""],[1,"tab-value"],["class","btn-submit",4,"ngIf"],["class","btn-submit box-center",4,"ngIf"],["color","dark","slot","start","name","key-outline"],["color","dark","formControlName","codeOTP","type","string","placeholder","Exemple : 0102",3,"disabled"],[1,"btn-submit"],["mat-raised-button","",3,"click","disabled"],["size","large","color","white","name","card-outline"],[1,"btn-submit","box-center"],[3,"options",4,"ngIf"],[3,"options"]],template:function(i,r){i&1&&(s(0,"form",0)(1,"ion-row",1)(2,"ion-col",2)(3,"span"),c(4,"Numero de t\xE9l\xE9phone "),s(5,"strong",3),c(6),a()()(),s(7,"ion-item"),u(8,"ion-icon",4)(9,"ion-input",5),a()(),C(10,uo,8,1,"ion-row",6),s(11,"table",7)(12,"tr")(13,"td"),c(14,"Total"),a(),s(15,"td",8),c(16),$(17,"number"),a()(),s(18,"tr")(19,"td"),c(20,"Mode de paiement"),a(),s(21,"td",8),c(22),a()(),s(23,"tr")(24,"td"),c(25,"Contact "),a(),s(26,"td",8),c(27),a()()(),C(28,ho,4,1,"div",9)(29,_o,3,2,"div",10),a()),i&2&&(p("formGroup",r.payForm),l(6),L("( ",r.operatorSelected._operateur," )"),l(3),Me("placeholder","Exemple : ",r.userProfil==null?null:r.userProfil.telephone,""),p("disabled",r.isLunched),l(),p("ngIf",r.integrator!=="Hub2"&&r.operatorSelected._needOTP),l(6),X("",ie(17,12,r.cashData.amount)," ",r.devise,""),l(6),L("Mobile Money ( ",r.operatorSelected._operateur," )"),l(5),S(r.phoneNumber.value),l(),p("ngIf",!r.isLunched),l(),p("ngIf",r.isLunched))},dependencies:[pe,H,et,Je,Xe,Ke,qe,Ze,Ki,Xi,ji,Gi,nt,E,D,z,ot,rt],styles:[".swal2-input-label{color:#383838;padding:0 1.3rem;text-align:center}  .swal2-input{color:#383838}  #pay-box .tab-value{color:var(--ion-color-dark)}ion-item[_ngcontent-%COMP%]{--border-style: none;border-bottom:1px solid var(--ion-color-dark);margin-bottom:16px}.btn-submit[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:var(--ion-color-secondary);color:var(--ion-color-white)}.box-center[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center}"]});let n=e;return n})();function vo(n,e){if(n&1){let o=N();s(0,"div")(1,"div",3),v("click",function(){T(o);let i=f();return A(i.getContratDetail())}),s(2,"div",4)(3,"span"),c(4,"operateur"),a()(),s(5,"div",5)(6,"h3"),c(7),a(),u(8,"img",6),a(),s(9,"div",7)(10,"span"),c(11),a(),s(12,"span"),c(13,"service de paiement mobile"),a(),u(14,"img",8),a()()()}if(n&2){let o=f();l(7),S(o.payData._operateur),l(4),L("",o.payData._indicatifPays," XX-XX-XX-XX")}}function bo(n,e){if(n&1){let o=N();s(0,"div")(1,"div",9),v("click",function(){T(o);let i=f();return A(i.getContratDetail())}),s(2,"div",4)(3,"span"),c(4,"Mode de paiement"),a()(),s(5,"div",5)(6,"h1"),c(7),a(),u(8,"img",6),a(),s(9,"div",7)(10,"span"),c(11),a(),s(12,"span"),c(13,"service de paiement mobile"),a(),u(14,"img",8),a()()()}if(n&2){let o=f();l(7),S(o.payData._operateur),l(4),L("",o.payData._indicatifPays," XX-XX-XX-XX")}}function Co(n,e){if(n&1){let o=N();s(0,"div")(1,"div",10),v("click",function(){T(o);let i=f();return A(i.getContratDetail())}),s(2,"div",4)(3,"span"),c(4,"Mode de paiement"),a()(),s(5,"div",5)(6,"h1"),c(7),a(),u(8,"img",6),a(),s(9,"div",7)(10,"span"),c(11),a(),s(12,"span"),c(13,"service de paiement mobile"),a(),u(14,"img",8),a()()()}if(n&2){let o=f();l(7),S(o.payData._operateur),l(4),L("",o.payData._indicatifPays," XX-XX-XX-XX")}}function yo(n,e){if(n&1){let o=N();s(0,"div")(1,"div",11),v("click",function(){T(o);let i=f();return A(i.getContratDetail())}),s(2,"div",4)(3,"span"),c(4,"Mode de paiement"),a()(),s(5,"div",5)(6,"h1"),c(7),a(),u(8,"img",6),a(),s(9,"div",7)(10,"span"),c(11),a(),s(12,"span"),c(13,"service de paiement mobile"),a(),u(14,"img",8),a()()()}if(n&2){let o=f();l(7),S(o.payData._operateur),l(4),L("",o.payData._indicatifPays," XX-XX-XX-XX")}}var rn=(()=>{let e=class e{constructor(){this.eventOutup=new Q,this.getContratDetail=()=>this.eventOutup.emit(this.payData),this.getStyleCss=()=>this.operator=this.getOperatorAlias(this.payData._codeOperateur)}ngOnDestroy(){console.log("destroy component")}ngOnInit(){this.getStyleCss()}getOperatorAlias(t){return t.indexOf(this.payData._codePays)!==-1?t.substr(0,t.length-2):t}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=x({type:e,selectors:[["app-pay-mode"]],inputs:{payData:"payData"},outputs:{eventOutup:"eventOutup"},decls:5,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","orangeTemplate",1,"contrat-card",3,"click"],[1,"card-header"],[1,"card-body"],["src","assets/icon/ic_chip_card_96px.png","alt","","srcset",""],[1,"card-footer"],["src","assets/images/ic_credit.png","alt","","srcset","",1,"pay-img"],["id","mtnTemplate",1,"contrat-card",3,"click"],["id","moovTemplate",1,"contrat-card",3,"click"],["id","overTemplate",1,"contrat-card",3,"click"]],template:function(i,r){i&1&&(s(0,"div",0),C(1,vo,15,2,"div",1)(2,bo,15,2,"div",1)(3,Co,15,2,"div",1)(4,yo,15,2,"div",2),a()),i&2&&(p("ngSwitch",r.operator),l(),p("ngSwitchCase","OR"),l(),p("ngSwitchCase","MTN"),l(),p("ngSwitchCase","MOOV"))},dependencies:[Ye,Qe,$e],styles:['*[_ngcontent-%COMP%]{font-family:AvenirNextLTPro-Regular}.contrat-card[_ngcontent-%COMP%]{margin:10px 0;width:300px;height:180px;padding:20px;border-radius:15px;box-shadow:1px 6px 6px 6px #0a0a0a0a;background-size:cover;background-position:center;background-repeat:no-repeat}.contrat-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;jjustify-content:flex-start;align-items:flex-start}.contrat-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){color:#f3f3f3ef;font-size:14px}.contrat-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){color:#fff;font-size:16px}.contrat-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;jjustify-content:flex-start;align-items:flex-start}.contrat-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){color:#fff;font-size:16px}.contrat-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){color:#ffffffd8;font-size:10px}.contrat-card[_ngcontent-%COMP%]   .pay-img[_ngcontent-%COMP%]{height:60px;width:60px;position:relative;left:190px;bottom:60px;border-radius:100%}.contrat-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;justify-content:space-between;margin:0 0 12px}.contrat-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;color:#fff}.contrat-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px}#mtnTemplate[_ngcontent-%COMP%]{background-image:linear-gradient(to right bottom,#f8d041f5,#f7c306f1),url("./media/background-2-stars-pattern-vector-EBLDJF3G.jpg")}#overTemplate[_ngcontent-%COMP%]{background-image:linear-gradient(to right bottom,#e2e2e2,#6b6b6bf5,#8f8f8f),url("./media/background-2-stars-pattern-vector-EBLDJF3G.jpg")}#orangeTemplate[_ngcontent-%COMP%]{background-image:linear-gradient(to right bottom,#eec144f3,#f77d44f5),url("./media/background-2-stars-pattern-vector-EBLDJF3G.jpg")}#moovTemplate[_ngcontent-%COMP%]{background-image:linear-gradient(to right top,#005ca8f8,#3f8bcae0),url("./media/background-2-stars-pattern-vector-EBLDJF3G.jpg")}']});let n=e;return n})();function xo(n,e){if(n&1){let o=N();s(0,"swiper-slide")(1,"app-pay-mode",15),v("eventOutup",function(i){T(o);let r=f();return A(r.selectedForm(i))}),a()()}if(n&2){let o=e.$implicit;l(),p("payData",o)}}function So(n,e){if(n&1){let o=N();s(0,"ion-slide")(1,"app-pay-mode",15),v("eventOutup",function(i){T(o);let r=f();return A(r.selectedForm(i))}),a()()}if(n&2){let o=e.$implicit;l(),p("payData",o)}}function Po(n,e){n&1&&(s(0,"p"),c(1,"TOTAL A PAYER"),a())}function Io(n,e){n&1&&(s(0,"p"),c(1,"MONTANT DE LA PREMIERE PRIME"),a())}function wo(n,e){if(n&1&&(s(0,"div"),u(1,"app-mobil-money-form",19),a()),n&2){let o=f(2);l(),p("payData",o.payData)("integrator",o.integrator)}}function Eo(n,e){if(n&1&&(s(0,"div"),u(1,"app-mobil-money-form",19),a()),n&2){let o=f(2);l(),p("payData",o.payData)("integrator",o.integrator)}}function Mo(n,e){if(n&1&&(s(0,"div"),u(1,"app-mobil-money-form",19),a()),n&2){let o=f(2);l(),p("payData",o.payData)("integrator",o.integrator)}}function Oo(n,e){if(n&1&&(s(0,"div"),u(1,"app-mobil-money-form",19),a()),n&2){let o=f(2);l(),p("payData",o.payData)("integrator",o.integrator)}}function ko(n,e){if(n&1&&(s(0,"div",16),C(1,wo,2,2,"div",17)(2,Eo,2,2,"div",17)(3,Mo,2,2,"div",17)(4,Oo,2,2,"div",18),a()),n&2){let o=f();p("ngSwitch",o.formSelected),l(),p("ngSwitchCase","OR"),l(),p("ngSwitchCase","MTN"),l(),p("ngSwitchCase","MOOV")}}var an=(()=>{let e=class e{constructor(t,i){this.modalCtrl=t,this.store=i,this.listModePay=this.store.storeValue("appConfig").operators}ngOnDestroy(){this.listModePay=[]}ngOnInit(){this.devise=this.store.storeValue("filiale").devise,this.payData=ve(Y({},this.payData),{operatorSelected:this.listModePay[0]})}dismissModal(){this.modalCtrl.dismiss({id:"pay_subscribe_modal",dismissed:!0})}ionViewWillEnter(){this.listModePay.length>0&&(this.formSelected=this.getOperatorAlias(this.listModePay[0]))}selectedForm(t){this.formSelected=this.getOperatorAlias(t),this.payData.operatorSelected?this.payData.operatorSelected=t:this.payData=ve(Y({},this.payData),{operatorSelected:t})}getOperatorAlias(t){if(t._codeOperateur.indexOf(t._codePays)!==-1){let r=t._codeOperateur;return r.substr(0,r.length-2)}else return t._codeOperateur}onSlideChanged(t){}};e.\u0275fac=function(i){return new(i||e)(h(re),h(M))},e.\u0275cmp=x({type:e,selectors:[["paiement-modal"]],inputs:{integrator:"integrator",payData:"payData"},decls:27,vars:13,consts:[["slider",""],[1,"header-box",2,"background-color","#e2eaf1"],["size","2"],["color","ligth","size","large","name","chevron-back-outline",3,"click"],["size","8"],[3,"loop","pagination","navigation","autoplay"],[4,"ngFor","ngForOf"],["color","dark",1,"ion-text-center"],["pager","true",3,"ionSlideDidChange"],["id","pay-box"],["size","12"],[4,"ngIf"],[1,"ligne-tag-pay"],["size","15","width","90%"],[3,"ngSwitch",4,"ngIf"],[3,"eventOutup","payData"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"payData","integrator"]],template:function(i,r){if(i&1){let d=N();s(0,"div",1)(1,"ion-row")(2,"ion-col",2)(3,"ion-icon",3),v("click",function(){return T(d),A(r.dismissModal())}),a()(),s(4,"ion-col",4)(5,"swiper-container",5),C(6,xo,2,1,"swiper-slide",6),a(),s(7,"ion-text",7)(8,"h2"),c(9,"Paiement"),a()()()()(),s(10,"ion-content")(11,"ion-slides",8,0),v("ionSlideDidChange",function(b){return T(d),A(r.onSlideChanged(b))}),C(13,So,2,1,"ion-slide",6),a(),s(14,"div",9)(15,"ion-row")(16,"ion-col",10)(17,"h1"),c(18),$(19,"number"),a(),C(20,Po,2,0,"p",11)(21,Io,2,0,"p",11),a()(),s(22,"div",12)(23,"span"),c(24,"Information client"),a(),u(25,"hr",13),a(),C(26,ko,5,4,"div",14),a()()}i&2&&(l(5),p("loop",!0)("pagination",!0)("navigation",!0)("autoplay",!0),l(),p("ngForOf",r.listModePay),l(7),p("ngForOf",r.listModePay),l(5),X("",ie(19,11,r.payData.amount)," ",r.devise,""),l(2),p("ngIf",r.payData.mode==="impaye"),l(),p("ngIf",r.payData.mode!=="impaye"),l(5),p("ngIf",r.formSelected))},dependencies:[rn,pe,on,K,E,D,z,oe,H,ne,Ye,Qe,$e],styles:["ion-content[_ngcontent-%COMP%]{--background: var(--ion-background-white)}.header-box[_ngcontent-%COMP%]{padding:5px}.header-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:large}.amont-box[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px;font-weight:700;margin-top:10px;color:var(--ion-color-secondary)}.box-title[_ngcontent-%COMP%]{font-size:18px;color:var(--ion-color-primary)}.amont-box[_ngcontent-%COMP%]{margin-top:30px}.card-mode-pay[_ngcontent-%COMP%]{margin-top:10px;border-radius:6px;background-color:#5f9ea0}.pay-img[_ngcontent-%COMP%]{height:50px;width:50px}.ligne-tag[_ngcontent-%COMP%]{margin-top:5px;height:10px;display:flex;justify-content:center;align-items:center}.ligne-tag[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;left:44%;right:44%;width:12%;padding:2px 10px;font-weight:500;border-radius:50px;text-align:center;background:var(--ion-color-secondary)}  #pay-box{padding:14px;height:max-content;margin-top:20px;background-color:var(--ion-color-white);border-top-left-radius:10px;border-top-right-radius:10px}  #pay-box h1{margin:15px 0 0;font-size:35px;text-align:center}  #pay-box p{color:#757575;margin-top:5px;text-align:center}  #pay-box ion-item{--border-style: none;width:100%;border-bottom:1px solid rgba(19,52,89,.3019607843);margin-bottom:10px}  #pay-box ion-item ion-input{color:var(--ion-color-dark)}  #pay-box .input-box{margin-bottom:10px}  #pay-box .tab-value{color:#f5b540;font-weight:700}  #pay-box table{width:100%;padding:15px}  #pay-box .ligne-tag-pay{margin-top:15px;height:30px;display:flex;justify-content:center;align-items:center}  #pay-box .ligne-tag-pay span{left:auto;right:auto;position:absolute;padding:6px 15px;font-weight:700;border-radius:20px;text-align:center;color:var(--ion-color-white);background:var(--ion-color-primary)}  #pay-box .ligne-tag-pay hr{background-color:var(--ion-color-primary)}  #pay-box .btn-submit{margin-top:20px}  #pay-box .mat-raised-button{width:100%;padding:5px;box-shadow:none!important}"]});let n=e;return n})();var sn=Ei("Browser",{web:()=>import("./chunk-OWKDKJZ7.js").then(n=>new n.BrowserWeb)});var ln=(()=>{let e=class e{constructor(t,i){this.httpClient=t,this._store=i}intentPay(t){let i=this._store.storeValue(g.FILIALE).souscriptionUrl,r={headers:new Se({"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:`Bearer ${t.apiKey}`})};return this.httpClient.post(`${i}/IntentWaveApi`,t,r).toPromise()}verifyPaymentStatus(t){let i=this._store.storeValue(g.FILIALE).souscriptionUrl,r={headers:new Se({"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:`Bearer ${t.apiKey}`})};return this.httpClient.post(`${i}/CheckStatusWavePayment`,t,r).toPromise()}};e.\u0275fac=function(i){return new(i||e)(I(me),I(M))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var ht=(()=>{let e=class e{constructor(t){this.extranetAPI=t}intentPay(t){return this.extranetAPI.intentPay(t)}verifyPaymentStatus(t){return this.extranetAPI.verifyPaymentStatus(t)}};e.\u0275fac=function(i){return new(i||e)(I(ln))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Te=(()=>{let e=class e{constructor(t,i){this.store=t,this.httpClient=i,this.urlAPI=""}saveTransaction(t){let i=this.store.storeValue(g.FILIALE).souscriptionUrl;return this.httpClient.post(`${i}/SaveTransction`,t,{}).toPromise()}getListCapitalByPeriodicite(t){let i=this.store.storeValue(g.FILIALE).souscriptionUrl;return this.httpClient.post(`${i}/ListeCapitauxParPeriodicite`,t).toPromise()}getGarantieFacultativeAmount(t){let i=this.store.storeValue(g.FILIALE).souscriptionUrl;return this.httpClient.post(`${i}/ListeCapitauxFacultativeParGarantie`,t).toPromise()}loadDateEffets(){let t=this.store.storeValue(g.FILIALE).souscriptionUrl;return this.httpClient.get(`${t}/ListeDateEffetPolice`).toPromise()}definitionProduit(){let t=this.store.storeValue(g.FILIALE).souscriptionUrl;return this.httpClient.get(`${t}/DefinitionProduits`).toPromise()}loadDefaultCodeApporteur(){let t=this.store.storeValue(g.FILIALE).souscriptionUrl;return this.httpClient.get(`${t}/ApporteurBureauDirect`).toPromise()}loadDureeContrats(t){let i=this.store.storeValue(g.FILIALE).souscriptionUrl;return this.httpClient.post(`${i}/ListeDureePolice`,t).toPromise()}simulateProposition(t){let i=this.store.storeValue(g.FILIALE).souscriptionUrl;return this.httpClient.post(`${i}/SimulateProposition`,t).toPromise()}createContrat(t){let i=this.store.storeValue(g.FILIALE).souscriptionUrl;return this.httpClient.post(`${i}/CreatePropositionVie`,t).toPromise()}createContratByFile(t){let i=this.store.storeValue(g.FILIALE).souscriptionUrl;return this.httpClient.post(`${i}/CreatePropositionVieWithDocuments`,t).toPromise()}saveCotation(t){let i=this.store.storeValue(g.FILIALE).souscriptionUrl;return this.httpClient.post(`${i}/SaveCotationVie`,t).toPromise()}validateProposition(t){let i=this.store.storeValue(g.FILIALE).souscriptionUrl;return this.httpClient.post(`${i}/ValidationCotationVie`,t).toPromise()}findProposition(t){let i=this.store.storeValue(g.FILIALE).souscriptionUrl;return this.httpClient.post(`${i}/GetListeCotations`,t).toPromise()}};e.\u0275fac=function(i){return new(i||e)(I(M),I(me))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var dn=(()=>{let e=class e{ngOnInit(){this.openWaveIntegrator()}constructor(t,i,r,d,m){this.spinner=t,this._configSpinner=i,this.waveService=r,this.modalCtrl=d,this.souscriptionService=m}openWaveIntegrator(){return y(this,null,function*(){this.spinner.show(),this._configSpinner.setMessage("Veuillez patienter ...");let t={apiKey:"wave_sn_prod_wjvC66eyitU1Azf7TyYfjmM5f9OAvjRDZ3hxH20VYhBWjwUaCpw5JPFVZGL5CMrT6EGGQW1W3F3i_fC8DiY0JQXfaiNKyoK_Zw",url:"https://api.wave.com/v1/checkout/sessions",data:{amount:this.payData.amount,currency:"XOF",error_url:"https://testkobussn.groupensia.com/payment-failed",success_url:"https://testkobussn.groupensia.com/payment-success"}};this.waveService.intentPay(t).then(i=>{this.spinner.hide(),sn.open({url:i.wave_launch_url,windowName:"_self"}),this.checkWaveTransactionStatus(i.id),console.log("Wave response",i)})})}checkWaveTransactionStatus(t){return y(this,null,function*(){this.spinner.show(),this._configSpinner.setMessage("Veuillez patienter ...");let i,r=()=>y(this,null,function*(){let d={apiKey:"wave_sn_prod_wjvC66eyitU1Azf7TyYfjmM5f9OAvjRDZ3hxH20VYhBWjwUaCpw5JPFVZGL5CMrT6EGGQW1W3F3i_fC8DiY0JQXfaiNKyoK_Zw",url:`https://api.wave.com/v1/checkout/sessions/${t}`};try{let m=yield this.waveService.verifyPaymentStatus(d);if(console.log("Wave status",m.payment_status),m.payment_status!=="processing"||m.last_payment_error!==null){if(console.log("Wave",m),m.payment_status==="cancelled"||m.last_payment_error!==null){let b={description:"wave paiement",transactionId:m.id,dateCreated:m.when_created,amount:m.amount,paye:!1,phoneNumber:""},_={SessionId:m.id,Operateur:"WAVE",Montant:m.amount,StatutPaiement:m.payment_status,Devise:m.currency};this.souscriptionService.saveTransaction(_),this.modalCtrl.dismiss({},"success","wave_api_modal"),this.modalCtrl.dismiss(b,"success","pay_integrator_modal"),W.show("Echec de paiement",m.last_payment_error.message,j.error,!1)}else if(m.payment_status==="succeeded"){let b={description:"wave paiement",transactionId:m.id,dateCreated:m.when_created,amount:m.amount,paye:!0,phoneNumber:""};this.modalCtrl.dismiss({},"success","wave_api_modal"),this.modalCtrl.dismiss(b,"success","pay_integrator_modal")}this.spinner.hide(),clearInterval(i)}}catch(m){this.spinner.hide(),console.error("Erreur lors de la v\xE9rification du statut",m),clearInterval(i)}});yield r(),i=setInterval(r,5e3)})}};e.\u0275fac=function(i){return new(i||e)(h(fe),h(ke),h(ht),h(ge),h(Te))},e.\u0275cmp=x({type:e,selectors:[["app-wave-modal"]],inputs:{payData:"payData"},decls:6,vars:0,consts:[[1,"container-fluid",2,"height","100%"],[2,"display","flex","flex-direction","column","justify-content","center","align-items","center","height","100%","gap","3rem"],["src","assets/images/pay_img/wave.png"]],template:function(i,r){i&1&&(s(0,"div",0)(1,"div",1)(2,"ion-avatar"),u(3,"ion-img",2),a(),s(4,"ion-label"),c(5,"Veuillez patienter le paiement est en cours ..."),a()()())},dependencies:[tt,hi,he],styles:["ion-avatar[_ngcontent-%COMP%]{width:12rem;height:12rem}"]});let n=e;return n})();var pn=(()=>{let e=class e{constructor(){this.openPaymentModal=new Q}remoteSelectedData(){this.openPaymentModal.emit(this.data)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=x({type:e,selectors:[["item-integrator-pay"]],inputs:{data:"data",amount:"amount"},outputs:{openPaymentModal:"openPaymentModal"},decls:14,vars:3,consts:[[1,"item-integrator-ctnt","ion-margin-bottom",3,"click"],[1,"ion-no-padding","m-3"],["size","3"],[3,"src"],["size","9"],["size","12",1,"ion-no-padding"],[1,"integrator-title"],[1,"ion-no-padding"]],template:function(i,r){i&1&&(s(0,"div",0),v("click",function(){return r.remoteSelectedData()}),s(1,"ion-row",1)(2,"ion-col",2)(3,"ion-avatar"),u(4,"ion-img",3),a()(),s(5,"ion-col",4)(6,"ion-row")(7,"ion-col",5)(8,"span",6),c(9),a()()(),s(10,"ion-row",7)(11,"ion-col",5)(12,"i"),c(13,"Service de paiment s\xE9curis\xE9 \xE0 100% "),a()()()()()()),i&2&&(l(4),Me("src","assets/images/pay_img/",r.data.logo,""),l(5),S(r.data.libelle))},dependencies:[R,E,D,tt,he],styles:[".item-integrator-ctnt[_ngcontent-%COMP%]{padding:1.5rem;border-radius:.5rem;background-color:var(--ion-color-white);box-shadow:inset 0 0 1px 1px #fefefee6,0 20px 27px #0000000d!important}.item-integrator-ctnt[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0!important}.item-integrator-ctnt[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--ion-color-dark);font-size:small}.integrator-title[_ngcontent-%COMP%]{font-size:large;font-weight:500;color:var(--ion-color-primary)}.integrator-operator[_ngcontent-%COMP%]{font-size:small;color:var(--ion-color-secondary)}ion-img[_ngcontent-%COMP%]{height:4rem;width:4rem}ion-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:5rem!important}"]});let n=e;return n})();function Ao(n,e){if(n&1){let o=N();s(0,"item-integrator-pay",11),v("openPaymentModal",function(i){let r=T(o).$implicit,d=f();return A(d.openPaymentModal(i,r))}),a()}if(n&2){let o=e.$implicit,t=f();p("data",o)("amount",t.payData.amount)}}var mn=(()=>{let e=class e{constructor(t,i,r){this.store=t,this.modalCtrl=i,this.waveService=r,this.listIntegrateur=[],this.listIntegrateur=t.storeValue(g.APP_CONFIG).integrators}ngOnInit(){}openApiIntegratorModal(t){return y(this,null,function*(){let i=this.store.storeValue(g.FILIALE).codeFiliale;yield(yield this.modalCtrl.create({id:"pay_api_modal",component:an,cssClass:"pay-subscribe-modal-style",componentProps:{payData:Y({codeFiliale:i},this.payData),integrator:t}})).present()})}openWebviewIntegrator(t){return y(this,null,function*(){yield(yield this.modalCtrl.create({id:"pay_webview_modal",component:Ri,cssClass:"pay-subscribe-modal-style",componentProps:{payData:this.payData,integrator:t}})).present()})}openWaveIntegrator(){return y(this,null,function*(){yield(yield this.modalCtrl.create({id:"wave_api_modal",component:dn,cssClass:"pay-subscribe-modal-style",componentProps:{payData:this.payData}})).present()})}openPaymentModal(t,i){switch(t.libelle){case"IxpertaPay":case"Hub2":this.openApiIntegratorModal(t.libelle);break;case"KKiaPay":this.openWebviewIntegrator(t.libelle);break;case"AfrikPay":this.openWebviewIntegrator(t.libelle);break;case"Wave":this.openWaveIntegrator();break}}onCloseModal(){this.modalCtrl.dismiss("","close")}};e.\u0275fac=function(i){return new(i||e)(h(M),h(ge),h(ht))},e.\u0275cmp=x({type:e,selectors:[["app-integrateur-paiement-modal"]],inputs:{payData:"payData"},decls:17,vars:1,consts:[["id","pay_integrator_modal-style"],[1,"ion-align-items-center","ion-padding"],["size","2"],["color","dark","size","large","name","card-outline"],["size","9"],["size","1",3,"click"],["color","dark","size","large","name","close-outline"],[1,"ion-padding-horizontal"],[1,"ion-padding-horizontal","ion-padding-top"],[1,"ion-padding-top"],[3,"data","amount","openPaymentModal",4,"ngFor","ngForOf"],[3,"openPaymentModal","data","amount"]],template:function(i,r){i&1&&(s(0,"div",0)(1,"ion-row",1)(2,"ion-col",2),u(3,"ion-icon",3),a(),u(4,"ion-col",4),s(5,"ion-col",5),v("click",function(){return r.onCloseModal()}),u(6,"ion-icon",6),a()(),s(7,"ion-content",7)(8,"h1",7),c(9,"Moyen de paiement"),a(),s(10,"div",8)(11,"p"),c(12," Avec votre nouvelle solution, vous avez maintenant le choix entre plusieurs modes de paiement. "),s(13,"i"),c(14,"Alors \xE0 vous de jouer."),a()()(),s(15,"div",9),C(16,Ao,1,2,"item-integrator-pay",10),a()()()),i&2&&(l(16),p("ngForOf",r.listIntegrateur))},dependencies:[R,ne,E,D,z,K,pn],styles:["#pay_integrator_modal-style{margin:0;width:100%;height:100%;background-color:var(--ion-color-white)}  .pay_integrator_modal-style .ion-page{display:flex;align-items:flex-end;flex-direction:column;justify-content:flex-end;background:transparent}h1[_ngcontent-%COMP%]{padding-top:2rem;font-size:xx-large;color:var(--ion-color-secondary)}#btn-validetor[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0}"]});let n=e;return n})();var gt=class{constructor(e){this.session=e,this.session.storeValue(ae.PANIER)===void 0&&this.session.dispatch(ae.PANIER,[]),this.panierBehaviorSubject=new ee(this.session.storeValue(ae.PANIER))}addPrime(e){this.searchImpaye(e).length===0&&e.etatQuittance===lt.IMPAYE&&this.panierBehaviorSubject.next([...this.panierBehaviorSubject.value,e]),this.session.dispatch(ae.PANIER,this.panierBehaviorSubject.value)}cleanPanier(){this.panierBehaviorSubject.next([]),this.session.dispatch(ae.PANIER,this.panierBehaviorSubject.value)}removePrime(e){let o=this.panierBehaviorSubject.value.filter(t=>{if(e.numeroQuittance!==t.numeroQuittance)return t});this.panierBehaviorSubject.next(o),this.session.dispatch(ae.PANIER,this.panierBehaviorSubject.value)}searchImpaye(e){return this.panierBehaviorSubject.value.filter(o=>{if(o.numeroQuittance===e.numeroQuittance)return o})}};var Pe=(()=>{let e=class e extends gt{constructor(t){super(t)}addPrimeFromPanier(t){this.addPrime(t)}removePrimeFromPanier(t){this.removePrime(t)}clean(){this.cleanPanier()}};e.\u0275fac=function(i){return new(i||e)(I(V))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var ft=class{static build(e){return{montantImpayes:e.MontantImpayes,nombreImpayees:e.NombreQuittanceImpayees,montantTotalPaye:e.MontantTotalPaye,montantPrimeEmise:e.MontantPrimesEmises}}};var _t=class{constructor(e,o,t,i){this._codeProduit=e,this._contrat=o,this._souscripteur=t,this._observation=i}get situation(){return this._situation}set situation(e){this._situation=e}get sinistre(){return this._sinistre}set sinistre(e){this._sinistre=e}get nuPolice(){return this._contrat.numeroContrat}toJson(){return{_codeProduit:this._codeProduit,_contrat:this._contrat,_souscripteur:this._souscripteur,_observation:this._observation,_situation:this._situation,_sinistre:this._sinistre}}};var vt=class{static build(e){return{capital:e.Capital,produit:e.Produit,typePolice:e.TypePolice,etatPolice:e.EtatPolice,dureePolice:e.DureePolice,numeroContrat:e.NumeroContrat,dateFinPolice:e.DateFinPolice,capitalAuTerme:e.CapitalAuTerme,primePeriodique:e.PrimePeriodique,dateDebutPolice:e.DateDebutPolice,periodicieCotisation:e.PeriodicieCotisation,rente:$t.build(e)}}},$t=class{static build(e){return{dureeRente:e.DUREERENTE,montantRente:e.MontantDeLaRente,periodiciteRente:e.PeriodiciteRente}}};var bt=class{static build(e){return{nom:e.NomSouscripteur||"",prenoms:e.PrenomsSouscripteur||"",dateNaissance:e.DateNaissanceSouscripteur||"",lieuNaissance:e.LieuNaissanceSouscripteur||"",adressePostale:e.AdressePostaleSouscripteur||"",nationalite:e.Nationalite||"",profession:e.ProfessionAssure||"",civilite:e.SexeAssure||"",adresseEmail:e.eMailAssure||"",situationMatrimoniale:e.SituationMatrimonialeAssure||"",telephone:e.TelephoneSouscripteur||""}}};var Ct=class{static build(e){return new _t(e.CodeProduit,vt.build(e),bt.build(e),ft.build(e)).toJson()}};var yt=class{constructor(e,o){this.session=e,this.apiUrl=o,this.message="",this.contrats=this.session.storeValue(g.CONTRATS)?this.session.storeValue(g.CONTRATS):[],this.contratsBehaviorSubject=new ee(this.contrats)}loadContrats(e){return y(this,null,function*(){return this.contrats=[],yield this.apiUrl.listContrat(e).then(o=>(console.log("contrat list data :::> ",o),this.generateContratList(o),this.updateBehaviorSubject(),this.contrats))})}searchContratByPoliceNumber(e){let o=this.contrats.filter(t=>t._contrat.numeroContrat===e&&t);return o.length>0?o[0]:!1}getContratFullDetail(e){return y(this,null,function*(){return yield this.apiUrl.detailContrat(e).then(o=>{let t=parseInt(e.NumeroContrat),i=this.searchContratByPoliceNumber(t);return o.Statut===200&&i?Bi.build(o,i):!1}).catch(o=>!1)})}generateContratList(e){for(let o of e.ProduitPoliceMontantCotisationMobile)this.createEndPushContratInstance(o)}updateBehaviorSubject(){this.contratsBehaviorSubject.next(this.contrats)}createEndPushContratInstance(e){this.contrats.push(Ct.build(e))}getSpecifyContratListNumber(e){let o=[];for(let t=0;t<e;t++)this.contrats[t]!==void 0&&o.push(this.contrats[t]);return o}saveQuittencePay(e){let o=[],t=e;for(let i of e.Quittances){let r={MontantEmis:i.montantQuittance,NumeroPolice:i.numeroPolice,NumeroQuittance:i.numeroQuittance};o.push(r)}return t.Quittances=o,console.log("quittances :::> ",t),this.apiUrl.savePrimeOperationPay(e).then(i=>i)}modeReglementAndTelephone(e){return this.apiUrl.contratInfo(e).then(o=>({modeReglement:o.ModeReglement[0],telephones:o.Telephones}))}};var un=(()=>{let e=class e extends yt{constructor(t,i){super(t,i),this.extranetAPI=i}getContrats(t){return this.loadContrats(t)}getContratDetail(t){return this.getContratFullDetail(t)}saveQuittenceAfterPay(t){return this.saveQuittencePay(t)}getInfoContrat(t){return this.modeReglementAndTelephone(t)}};e.\u0275fac=function(i){return new(i||e)(I(V),I(Si))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Lo=n=>({"ios-header":n});function zo(n,e){if(n&1){let o=N();s(0,"app-item-impaye",22),v("childEvent",function(i){T(o);let r=f(2);return A(r.executeChildAction(i))}),a()}if(n&2){let o=e.$implicit,t=f(2);p("selectInput",t.actionChecked)("data",o)}}function Vo(n,e){if(n&1){let o=N();be(0),s(1,"ion-content")(2,"div",11),C(3,zo,1,2,"app-item-impaye",12),a()(),s(4,"div",13)(5,"ion-row",14),v("click",function(){T(o);let i=f();return A(i.openModal())}),s(6,"ion-col",15)(7,"ion-text",16)(8,"span"),c(9),$(10,"number"),a()()(),s(11,"ion-col",17)(12,"ion-row",18)(13,"ion-col",19),u(14,"ion-icon",20),a(),s(15,"ion-col",19)(16,"ion-text")(17,"span",21),c(18," Payer"),a()()()()()()(),Ce()}if(n&2){let o=f();l(3),p("ngForOf",o.listPanier),l(6),X("",ie(10,3,o.totalAmount)," ",o.devise,"")}}function Ro(n,e){n&1&&(s(0,"div",23),u(1,"ion-icon",24),s(2,"ion-text",16)(3,"span"),c(4,"Votre panier est vide"),a()()())}var hn=(()=>{let e=class e{constructor(t,i,r,d,m,b,_,P,O,F,le){this.router=t,this.store=i,this.panier=r,this._session=d,this.platform=m,this.modalCtrl=b,this.spinner=_,this.panierService=P,this.contratService=O,this._configSpinner=F,this._clientUniqueService=le,this.listPanier=[],this.totalAmount=0,this.listQuittance=[],this.buildQuittancesForQuery=q=>{let ze=[];for(let Ae of q)ze.push({NumeroPolice:Ae.numeroPolice,MontantEmis:Ae.montantQuittance,NumeroQuittance:Ae.numeroQuittance});return ze},this.actionChecked={action:"AUTO",value:!0},this.platformValue=this.platform.getPlatform()}ionViewWillEnter(){this.totalAmount=0,this.listPanier.find(t=>{this.totalAmount+=t.montantQuittance})}ngOnInit(){this.devise=this.store.storeValue(g.FILIALE).devise,this.userInfo=this._session.storeValue(g.CURRENT_USER),this.panierService.panierBehaviorSubject.subscribe(t=>{this.listPanier=t,this.isEmptyList=!(this.listPanier.length>0)})}onCloseModal(){this.modalCtrl.dismiss()}executeChildAction(t){switch(t.action){case"REMOVE":this.totalAmount-=t.value.montantQuittance,t.value.selected=!1,this.panierService.removePrimeFromPanier(Y({},t.value));break;default:t.value.selected=!0,this.panierService.addPrimeFromPanier(Y({},t.value));break}}openModal(){let t=this._session.storeValue(g.CURRENT_USER),i={fullname:`${t.nom} ${t.prenom}`,amount:this.totalAmount,phoneNumber:t.telephone};this.modalCtrl.dismiss().then(r=>{this.openIntegratorModal(i)})}openIntegratorModal(t){return y(this,null,function*(){let i=yield this.modalCtrl.create({id:"pay_integrator_modal",component:mn,cssClass:"pay_integrator_modal-style",componentProps:{payData:Y({mode:"impaye"},t)}});i.present(),i.onDidDismiss().then(r=>{r.role==="success"&&(this._configSpinner.setMessage("Patientez, nous mettons \xE0 jours vos contrats"),this.onSaveImpayeeOperation(r))}).catch(r=>{console.log("panier pay operating :::> ",r),this.spinner.hide(),W.show("Erreur Serveur","Nous avons rencontr\xE9 un probl\xE8me lors du traitement de votre demande",j.error)})})}onSaveImpayeeOperation(t){let i=t.data,r={ReferenceId:i.transactionId,CodeStatutTransaction:"succes",refTransaction:i.transactionId,montant:this.totalAmount,numero:i.phoneNumber,Quittances:this.listPanier,numeroClient:this.userInfo.nuClient,CodeFiliale:this.userInfo.codeFiliale};this.spinner.show(),this.contratService.saveQuittenceAfterPay(r).then(d=>{if(d.Statut===200){let m=this._session.storeValue(g.AUTH);this._clientUniqueService.getUniqueClientContrats(m.clientNumber).then(b=>{let P=b.data;this.panier.clean(),this._session.dispatch(ae.PANIER,[]),this._session.dispatch(ae.CURRENT_CONTRAT,[]),this._session.dispatch(g.CONTRATS,P),this.spinner.hide().then(O=>{W.show("Reglement de quittance","Paiement effectu\xE9 avec succ\xE8s",j.success,!0,"Continuer").then(F=>{this._session.dispatch(g.CONTRATS,P),this.router.navigate(["/contrats"])})})})}else this.spinner.hide(),W.show("Erreur Serveur","Nous avons rencontr\xE9 un probl\xE8me lors du traitement de votre demande",j.error)}).catch(d=>{this.spinner.hide(),W.show("Erreur Serveur","Nous avons rencontr\xE9 un probl\xE8me lors du traitement de votre demande",j.error)})}};e.\u0275fac=function(i){return new(i||e)(h(ue),h(M),h(Pe),h(V),h(st),h(ge),h(fe),h(Pe),h(un),h(ke),h(ct))},e.\u0275cmp=x({type:e,selectors:[["app-modal-recap-panier"]],inputs:{nuContrat:"nuContrat"},decls:13,vars:5,consts:[["emptyListView",""],["id","modal-recap-panier-cmp",3,"ngClass"],[1,"ion-align-items-center","ion-padding"],["size","2"],["color","dark","size","large","name","cart-outline"],["size","9"],["color","dark"],[2,"margin","0"],["size","1",3,"click"],["color","secondary","size","large","name","close-outline"],[4,"ngIf","ngIfElse"],["id","list_impaye",1,"ion-padding"],[3,"selectInput","data","childEvent",4,"ngFor","ngForOf"],["id","recap-payee",1,"ion-padding"],["id","btn_pay",1,"ion-align-items-center",3,"click"],["size","7"],["color","light"],["size","5"],[1,"ion-align-items-center"],["size","6"],["size","large","name","card-outline",2,"color","var(--ion-color-white)"],[2,"color","var(--ion-color-white)"],[3,"childEvent","selectInput","data"],["id","empty_panier_box",1,"ion-padding"],["name","alert-circle-outline"]],template:function(i,r){if(i&1){let d=N();s(0,"div",1)(1,"ion-row",2)(2,"ion-col",3),u(3,"ion-icon",4),a(),s(4,"ion-col",5)(5,"ion-text",6)(6,"h2",7),c(7,"Mon panier"),a()()(),s(8,"ion-col",8),v("click",function(){return T(d),A(r.onCloseModal())}),u(9,"ion-icon",9),a()(),C(10,Vo,19,5,"ng-container",10)(11,Ro,5,0,"ng-template",null,0,li),a()}if(i&2){let d=ni(12);p("ngClass",He(3,Lo,r.platformValue==="ios")),l(10),p("ngIf",!r.isEmptyList)("ngIfElse",d)}},dependencies:[R,Oe,ne,H,pe,E,D,z,oe,K,$i],styles:["#modal-recap-panier-cmp{margin:0;width:100%;border-radius:8px;background-color:var(--ion-color-white)}  .modal-recap-panier-cmp .ion-page{display:flex;align-items:flex-end;flex-direction:column;justify-content:flex-end;background:transparent}  .sc-ion-modal-md-h{--background: transparent !important}  .sc-ion-modal-ios-h{--background: transparent !important}  .verification-modal-style .modal-wrapper{left:0;bottom:0;width:100%;height:100%;display:block;position:absolute;background-color:transparent}#empty_panier_box[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;justify-content:center}#empty_panier_box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-size:17px;color:#2f2f2f}#empty_panier_box[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{width:60px;height:60px;margin-bottom:10px;color:#a14d4d}#recap-payee[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0;width:100%;background-color:#fff}#list_impaye[_ngcontent-%COMP%]{padding-bottom:85px!important}#btn_pay[_ngcontent-%COMP%]{padding:0 30px;border-radius:8px;background-color:var(--ion-color-secondary)}#btn_pay[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:18.5px;font-weight:700}#btn_pay[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-left:20px}  #modal-recap-panier-cmp ion-content{height:500px}.ios-header[_ngcontent-%COMP%]{padding-top:1.4rem!important}"]});let n=e;return n})();var Kt=(()=>{let e=class e{constructor(t,i,r){this.route=t,this._section=i,this.modalCtrl=r,this.description=[{CODE_PRODUIT:1005,NOM:"NSIA RETRAITE",TYPE:"Contrat individuel d\u2019\xE9pargne",OBJET:"Le contrat NSIA RETRAITE a pour objet la constitution d\u2019une \xE9pargne en vue de s\u2019assurer une retraite compl\xE9mentaire ou en vue de monter un projet quelconque \xE0 moyen ou long terme.",ADHERENTS:"Toute personne physique \xE2g\xE9e de 18 ans au moins et 50 ans au plus au moment de la souscription.",DUREE:"Le contrat NSIA RETRAITE est souscrit en principe pour la dur\xE9e r\xE9siduelle d\u2019activit\xE9 de l\u2019assur\xE9. Sa dur\xE9e minimale est de 10 ans.",PAIEMENT:"Les primes sont payables par pr\xE9l\xE8vement bancaire, ch\xE8que ou esp\xE8ces au si\xE8ge de la compagnie.",CAPITAUX_GARANTIS:"En cas de vie: versement de l\u2019\xE9pargne constitu\xE9e, nette de chargement, capitalis\xE9e au taux d\u2019int\xE9r\xEAt technique minimum annuel de 3,5 %, augment\xE9e des participations au b\xE9n\xE9fices (PB) e En cas de d\xE9c\xE8s : versement de l\u2019\xE9pargne constitu\xE9e, nette de chargement, capitalis\xE9e au taux de 3.5% brut, major\xE9 des participations aux b\xE9n\xE9fices aux ayants droit Les Participations aux b\xE9n\xE9fices sont distribu\xE9es \xE0 hauteur de 85% des r\xE9sultats financiers et 90% des r\xE9sultats techniques.",COTISATIONS:"La prime minimale mensuelle est de 10 000 FCFA.",CESSATION_GARANTIES:"Les garanties cessent : en cas de d\xE9c\xE8s de l\u2019assur\xE9 , au terme du contrat , en cas de r\xE9siliation du contrat",RACHAT:"Le rachat peut \xEAtre partiel ou total. Apr\xE8s une p\xE9riode de 24 mois de cotisation le contrat acqui\xE8re une valeur de rachat qui permettra de pr\xE9tendre \xE0 : Une avance ; possibilit\xE9 de faire une avance \xE0 hauteur de 85% de la provision math\xE9matique remboursable selon le taux d\u2019int\xE9r\xEAt fix\xE9 par l\u2019assureur. Le rachat partiel correspond au versement d\u2019une partie de la provision math\xE9matique : il n\u2019est pas remboursable. Le montant maximum accord\xE9 est \xE9gal \xE0 85% de la valeur de rachat. En cas de rachat total, ce qui correspond \xE0 une r\xE9siliation totale, le capital acquis est frapp\xE9 d\u2019une p\xE9nalit\xE9. Cette p\xE9nalit\xE9 est de 5 % si le rachat intervient avant les 10 premi\xE8res ann\xE9es d\u2019assurance. Pas de p\xE9nalit\xE9 \xE0 partir de la dixi\xE8me ann\xE9e."},{CODE_PRODUIT:1030,NOM:"NSIA-ETUDES",TYPE:"Contrat d\u2019assurance individuel.",OBJET:"En cas de vie de l\u2019assur\xE9 au terme de la p\xE9riode de cotisation : Paiement d\u2019une bourse annuelle destin\xE9e \xE0 assurer la scolarit\xE9 d\u2019un enfant. En cas de D\xE9c\xE8s ou en cas d\u2019invalidit\xE9 permanente totale de l\u2019assur\xE9 avant le terme de la p\xE9riode de cotisation : Suspension des cotisations et paiement imm\xE9diat de la bourse annuelle jusqu\u2019au terme du contrat (dur\xE9e de cotisation restante + dur\xE9e de service).",ADHERENTS:"Toute personne physique \xE2g\xE9e de 18 \xE0 55 ans.",DUREE:"Dur\xE9e minimale de cotisation : la dur\xE9e minimale de cotisation est de 10 ans. Toutefois au terme du contrat, l\u2019assur\xE9 ne devra pas \xEAtre \xE2g\xE9 de plus de 65 ans. Dur\xE9e de paiement de la bourse : la dur\xE9e minimale de paiement de la bourse est de 3 ans. Dur\xE9e du Contrat : La dur\xE9e du contrat est la somme de la dur\xE9e de cotisation et de la dur\xE9e de paiement de la bourse. Ainsi le terme du contrat est la fin de la p\xE9riode de paiement de la bourse.",PAIEMENT:"Les cotisations sont payables mensuellement, trimestriellement, semestriellement, annuellement ou en une fraction unique par pr\xE9l\xE8vement bancaire, esp\xE8ce ou ch\xE8que. Modes ch\xE8que et esp\xE8ce en paiement trimestriel exclusivement et \xE0 l\u2019ordre de NSIA Vie.",CAPITAUX_GARANTIS:"Au terme du contrat, 1. En cas de vie du parent souscripteur, NSIA verse le montant de la bourse annuelle pendant la dur\xE9e de service souscrite. Toutefois, le parent souscripteur peut demander le reversement en capital. 2. En cas de d\xE9c\xE8s, le montant de la bourse est revers\xE9 annuellement \xE0 l\u2019enfant jusqu\u2019au terme du contrat (dur\xE9e de cotisation restante + dur\xE9e de service)",COTISATIONS:"La bourse annuelle minimale est de 500 000 FCFA. La dur\xE9e de cotisation est au minimum fix\xE9e \xE0 10 ans.",CESSATION_GARANTIES:"La garantie d\xE9c\xE8s et vie cessent dans les cas suivants : - au terme de la p\xE9riode de cotisation, en cas de non-paiement des primes, \xE0 la r\xE9siliation du contrat,au plus tard le 31 d\xE9cembre de l\u2019ann\xE9e du 65e anniversaire de l\u2019adh\xE9rent.",RACHAT:"Apr\xE8s deux ann\xE9es effectives de cotisation, l\u2019assur\xE9 peut demander un rachat total de son contrat (r\xE9siliation de son contrat). Le rachat partiel n\u2019est pas possible sur ce contrat"},{CODE_PRODUIT:1028,NOM:"NSIA-ETUDES",TYPE:"Contrat d\u2019assurance individuel.",OBJET:"En cas de vie de l\u2019assur\xE9 au terme de la p\xE9riode de cotisation : Paiement d\u2019une bourse annuelle destin\xE9e \xE0 assurer la scolarit\xE9 d\u2019un enfant. En cas de D\xE9c\xE8s ou en cas d\u2019invalidit\xE9 permanente totale de l\u2019assur\xE9 avant le terme de la p\xE9riode de cotisation : Suspension des cotisations et paiement imm\xE9diat de la bourse annuelle jusqu\u2019au terme du contrat (dur\xE9e de cotisation restante + dur\xE9e de service).",ADHERENTS:"Toute personne physique \xE2g\xE9e de 18 \xE0 55 ans.",DUREE:"Dur\xE9e minimale de cotisation : la dur\xE9e minimale de cotisation est de 10 ans. Toutefois au terme du contrat, l\u2019assur\xE9 ne devra pas \xEAtre \xE2g\xE9 de plus de 65 ans. Dur\xE9e de paiement de la bourse : la dur\xE9e minimale de paiement de la bourse est de 3 ans. Dur\xE9e du Contrat : La dur\xE9e du contrat est la somme de la dur\xE9e de cotisation et de la dur\xE9e de paiement de la bourse. Ainsi le terme du contrat est la fin de la p\xE9riode de paiement de la bourse.",PAIEMENT:"Les cotisations sont payables mensuellement, trimestriellement, semestriellement, annuellement ou en une fraction unique par pr\xE9l\xE8vement bancaire, esp\xE8ce ou ch\xE8que. Modes ch\xE8que et esp\xE8ce en paiement trimestriel exclusivement et \xE0 l\u2019ordre de NSIA Vie.",CAPITAUX_GARANTIS:"Au terme du contrat, 1. En cas de vie du parent souscripteur, NSIA verse le montant de la bourse annuelle pendant la dur\xE9e de service souscrite. Toutefois, le parent souscripteur peut demander le reversement en capital. 2. En cas de d\xE9c\xE8s, le montant de la bourse est revers\xE9 annuellement \xE0 l\u2019enfant jusqu\u2019au terme du contrat (dur\xE9e de cotisation restante + dur\xE9e de service)",COTISATIONS:"La bourse annuelle minimale est de 500 000 FCFA. La dur\xE9e de cotisation est au minimum fix\xE9e \xE0 10 ans.",CESSATION_GARANTIES:"La garantie d\xE9c\xE8s et vie cessent dans les cas suivants : - au terme de la p\xE9riode de cotisation, en cas de non-paiement des primes, \xE0 la r\xE9siliation du contrat,au plus tard le 31 d\xE9cembre de l\u2019ann\xE9e du 65e anniversaire de l\u2019adh\xE9rent.",RACHAT:"Apr\xE8s deux ann\xE9es effectives de cotisation, l\u2019assur\xE9 peut demander un rachat total de son contrat (r\xE9siliation de son contrat). Le rachat partiel n\u2019est pas possible sur ce contrat"}],this.subscribe=()=>{let d=this._section.storeValue(g.PROPOSITIONS);(d==null?void 0:d.length)===10?W.show("","Vous ne pouvez plus cr\xE9er de nouvelle proposition.",j.info):(this.dismiss(),this.route.navigate(["/subscribe",this.produitData.produitId]))},this.dismiss=()=>{this.modalCtrl.dismiss({dismissed:!0})}}ngOnInit(){this.descriptionFilter=this.description.filter(t=>t.CODE_PRODUIT===this.produitData.produitId)}};e.\u0275fac=function(i){return new(i||e)(h(ue),h(V),h(ge))},e.\u0275cmp=x({type:e,selectors:[["app-product-detail"]],inputs:{produitData:"produitData"},decls:73,vars:11,consts:[["id","modal-container"],[1,"ion-padding"],["src","../assets/images/ixperta_epargne_projet.jpg","alt","","srcset",""],["color","secondary"],[1,"detail-info"],[1,"row"],[1,"col-md-3"],[1,"user"],[1,"col-md-9"],[1,"table","table-bordered","bg-white",2,"width","100%"],["id","bottom-modal-box"],["fixed",""],["size","10"],["color","primary","expand","block",1,"vibrate-3",3,"click"],["slot","end","name","trending-up-outline"],["size","2"],["color","tertiary","expand","block",3,"click"],["name","close-outline"]],template:function(i,r){i&1&&(s(0,"div",0)(1,"ion-content",1),u(2,"img",2),s(3,"ion-text",3)(4,"h1"),c(5),a()(),s(6,"div",4)(7,"div",5)(8,"div",6),u(9,"div",7),a(),s(10,"div",8)(11,"table",9)(12,"tr")(13,"th"),c(14,"NOM"),a(),s(15,"td"),c(16),a()(),s(17,"tr")(18,"th"),c(19,"TYPE"),a(),s(20,"td"),c(21),a()(),s(22,"tr")(23,"th"),c(24,"OBJET"),a(),s(25,"td"),c(26),a()(),s(27,"tr")(28,"th"),c(29,"ADHERENTS"),a(),s(30,"td"),c(31),a()(),s(32,"tr")(33,"th"),c(34,"DUREE DU CONTRAT"),a(),s(35,"td"),c(36),a()(),s(37,"tr")(38,"th"),c(39,"MODE DE PAIEMENT"),a(),s(40,"td"),c(41),a()(),s(42,"tr")(43,"th"),c(44,"CAPITAUX GARANTIS"),a(),s(45,"td"),c(46),a()(),s(47,"tr")(48,"th"),c(49,"COTISATIONS"),a(),s(50,"td"),c(51),a()(),s(52,"tr")(53,"th"),c(54,"CESSATION DE GARANTIES"),a(),s(55,"td"),c(56),a()(),s(57,"tr")(58,"th"),c(59,"RACHAT"),a(),s(60,"td"),c(61),a()()(),u(62,"br"),a()()(),s(63,"div",10)(64,"ion-grid",11)(65,"ion-row")(66,"ion-col",12)(67,"ion-button",13),v("click",function(){return r.subscribe()}),c(68," Souscrire "),u(69,"ion-icon",14),a()(),s(70,"ion-col",15)(71,"ion-button",16),v("click",function(){return r.dismiss()}),u(72,"ion-icon",17),a()()()()()()()),i&2&&(l(5),S(r.produitData.libelle),l(11),S(r.descriptionFilter[0].NOM),l(5),L(" ",r.descriptionFilter[0].TYPE," "),l(5),L(" ",r.descriptionFilter[0].OBJET," "),l(5),L(" ",r.descriptionFilter[0].ADHERENTS," "),l(5),L(" ",r.descriptionFilter[0].DUREE," "),l(5),L(" ",r.descriptionFilter[0].PAIEMENT," "),l(5),L(" ",r.descriptionFilter[0].CAPITAUX_GARANTIS," "),l(5),L(" ",r.descriptionFilter[0].COTISATIONS," "),l(5),L(" ",r.descriptionFilter[0].CESSATION_GARANTIES," "),l(5),L(" ",r.descriptionFilter[0].RACHAT," "))},dependencies:[R,K,oe,it,E,D,mi,z],styles:["@-webkit-keyframes _ngcontent-%COMP%_vibrate-3{0%{-webkit-transform:translate(0);transform:translate(0)}10%{-webkit-transform:translate(-1px,-1px);transform:translate(-1px,-1px)}10%{-webkit-transform:translate(1px,-1px);transform:translate(1px,-1px)}30%{-webkit-transform:translate(-1px,1px);transform:translate(-1px,1px)}40%{-webkit-transform:translate(1px,1px);transform:translate(1px,1px)}50%{-webkit-transform:translate(-1px,-1px);transform:translate(-1px,-1px)}60%{-webkit-transform:translate(1px,-1px);transform:translate(1px,-1px)}70%{-webkit-transform:translate(-1px,1px);transform:translate(-1px,1px)}80%{-webkit-transform:translate(-1px,-1px);transform:translate(-1px,-1px)}90%{-webkit-transform:translate(1px,-1px);transform:translate(1px,-1px)}to{-webkit-transform:translate(0);transform:translate(0)}}@keyframes _ngcontent-%COMP%_vibrate-3{0%{-webkit-transform:translate(0);transform:translate(0)}10%{-webkit-transform:translate(-1px,-1px);transform:translate(-1px,-1px)}10%{-webkit-transform:translate(1px,-1px);transform:translate(1px,-1px)}30%{-webkit-transform:translate(-1px,1px);transform:translate(-1px,1px)}40%{-webkit-transform:translate(1px,1px);transform:translate(1px,1px)}50%{-webkit-transform:translate(-1px,-1px);transform:translate(-1px,-1px)}60%{-webkit-transform:translate(1px,-1px);transform:translate(1px,-1px)}70%{-webkit-transform:translate(-1px,1px);transform:translate(-1px,1px)}80%{-webkit-transform:translate(-1px,-1px);transform:translate(-1px,-1px)}90%{-webkit-transform:translate(1px,-1px);transform:translate(1px,-1px)}to{-webkit-transform:translate(0);transform:translate(0)}}.vibrate-3[_ngcontent-%COMP%]{-webkit-animation:_ngcontent-%COMP%_vibrate-3 .5s linear infinite both;animation:_ngcontent-%COMP%_vibrate-3 .5s linear infinite both}.vibrate-3[_ngcontent-%COMP%]:hover{animation:none;-webkit-animation:none}  .produit-modal-style .modal-wrapper{left:0;bottom:0;width:100%;height:100%;display:block;position:absolute;background-color:transparent}  .produit-modal-style .ion-page{display:flex;align-items:center!important;flex-direction:column!important;justify-content:flex-start!important}  #modal-container{width:95%;height:100%}#bottom-modal-box[_ngcontent-%COMP%]{left:0;width:91%;bottom:.5rem;margin:0 4.5%;border:0;border-radius:10px;background-color:var(--ion-color-secondary);position:fixed}#bottom-modal-box[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:0}.detail-info[_ngcontent-%COMP%]{color:#4e4e50;padding-bottom:2.8rem}ng-deep[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px}tr[_ngcontent-%COMP%]{border:1px solid gray;padding:5px}"]});let n=e;return n})();var gn=(()=>{let e=class e{constructor(t){this.session=t}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)(h(V))},e.\u0275cmp=x({type:e,selectors:[["app-product-dashboard-item"]],inputs:{data:"data"},decls:9,vars:1,consts:[[1,"product-item-dashboard",2,"background-image","url(assets/images/ixperta_epargne_projet.jpg)"],[1,"box-ctnt"],[1,"product-info"],["id","tag_info"]],template:function(i,r){i&1&&(s(0,"div",0)(1,"div",1)(2,"div",2)(3,"span"),c(4),a(),u(5,"p"),a(),s(6,"div",3)(7,"p"),c(8,"Souscrire"),a()()()()),i&2&&(l(4),S(r.data.libelle))},styles:["@-webkit-keyframes _ngcontent-%COMP%_flip-in-ver-right{0%{-webkit-transform:rotateY(-80deg);transform:rotateY(-80deg);opacity:0}to{-webkit-transform:rotateY(0);transform:rotateY(0);opacity:1}}@keyframes _ngcontent-%COMP%_flip-in-ver-right{0%{-webkit-transform:rotateY(-80deg);transform:rotateY(-80deg);opacity:0}to{-webkit-transform:rotateY(0);transform:rotateY(0);opacity:1}}.product-item-dashboard[_ngcontent-%COMP%]{width:100%;height:160px;border-radius:8px;box-shadow:1px 6px 6px 6px #0a0a0a0a;background-size:cover;background-position:center;background-repeat:no-repeat}.product-item-dashboard[_ngcontent-%COMP%]:hover{-webkit-animation:_ngcontent-%COMP%_flip-in-ver-right .5s cubic-bezier(.25,.46,.45,.94) both;animation:_ngcontent-%COMP%_flip-in-ver-right .5s cubic-bezier(.25,.46,.45,.94) both}.box-ctnt[_ngcontent-%COMP%]{width:100%;height:100%;padding:20px;border-radius:8px;background-image:linear-gradient(to top,#040404c2,#040404a8,#78787800,#b9b9b900,#fff0)}.product-info[_ngcontent-%COMP%]{bottom:0;left:10px;padding:0 15px;position:absolute}.product-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;display:block;color:#fff;text-transform:uppercase}#tag_info[_ngcontent-%COMP%]{position:absolute;top:4px;right:12px;padding:5px 10px;border-radius:5px;background-color:var(--ion-color-secondary)}#tag_info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;margin:0;font-size:.9rem;font-weight:400;color:var(--ion-color-primary-contrast)}"]});let n=e;return n})();var Go=(n,e,o,t)=>({success:n,error:e,warn:o,default:t}),fn=(()=>{let e=class e{constructor(){}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=x({type:e,selectors:[["app-alert"]],inputs:{icon:"icon",type:"type",message:"message"},decls:9,vars:8,consts:[["id","alert-card",3,"ngClass"],["size","12"],[1,"ion-align-items-center"],["size","10"],[1,"ion-no-margin"],["size","2"],["color","light",2,"font-size","3rem",3,"name"]],template:function(i,r){i&1&&(s(0,"div",0)(1,"ion-row")(2,"ion-col",1)(3,"ion-row",2)(4,"ion-col",3)(5,"p",4),c(6),a()(),s(7,"ion-col",5),u(8,"ion-icon",6),a()()()()()),i&2&&(p("ngClass",si(3,Go,r.type=="success",r.type=="error",r.type=="warn",r.type=="default")),l(6),S(r.message),l(2),p("name",r.icon))},dependencies:[Oe,z,E,D],styles:["#alert-card[_ngcontent-%COMP%]{width:97%;padding:.5rem;margin:1.5%;min-height:5rem;border-radius:.6rem}.success[_ngcontent-%COMP%]{background-color:var(--ion-color-success-shade)!important}.error[_ngcontent-%COMP%]{background-color:var(--ion-color-danger-shade)!important}.warn[_ngcontent-%COMP%]{background-color:var(--ion-color-warning-shade)!important}.default[_ngcontent-%COMP%]{background-color:var(--ion-color-secondary)!important}span[_ngcontent-%COMP%]{width:100%;color:var(--ion-color-white);font-weight:500;font-size:1rem}p[_ngcontent-%COMP%]{color:var(--ion-color-white);font-weight:200;font-size:.95rem}"]});let n=e;return n})();var xt=class{static build(e){return{ageMin:e.DureeMinimale,ageMax:e.AgeMaximale,dureeMin:e.DureeMinimale,dureeMax:e.DureeMaximale,montantMin:e.MontantMinimum,montantMax:e.MontantMaximum}}};var St=class{constructor(e,o,t,i,r,d,m,b,_,P,O,F){this._rules=e,this._produitId=o,this._libelle=t,this._nomImage=i,this._garanties=r,this._garantieFacultatives=d,this._natureProduit=m,this._libelleNatureProduit=b,this._dureeRentes=_,this._pieceJointes=P,this._fractionnements=O,this._questionnaireMedicales=F}toJson(){return{rules:this._rules,produitId:this._produitId,libelle:this._libelle,nomImage:this._nomImage,garanties:this._garanties,garantieFacultatives:this._garantieFacultatives,natureProduit:this._natureProduit,libelleNatureProduit:this._libelleNatureProduit,dureeRentes:this._dureeRentes,pieceJointes:this._pieceJointes,fractionnements:this._fractionnements,questionnaireMedicales:this._questionnaireMedicales}}};var Pt=class{static build(e){let o=[];if(e.length>0)for(let t of e){let i={id:parseInt(t.Id),libelle:t.Libelle,montant:Math.ceil(t.MontantCapital),identifiant:t.Identifiant,abreviation:t.Abreviation,statut:t.Statut};o.push(i)}return o}},It=class{static build(e){let o=[];if(e.length>0)for(let t of e){let i={code:t.Identifiant,libelle:t.Libelle,capital:t.MontantCapital,version:t.Version,identifiant:t.Id,abreviation:t.Abreviation,coeffGarantie:t.CoefficientGarantie,plafondCapital:t.MontantPlafontCapital};o.push(i)}return o}};var wt=class{static build(e){let o=[];if(e.length>0)for(let t of e){let i={id:parseInt(t.Id),libelle:t.Libelle};o.push(i)}return o}};var Et=class{static build(e){let o=[];if(e.length>0)for(let t of e){let i={id:parseInt(t.Id),libelleDocx:t.LibelleDocument,natureProduit:t.NatureProduit};o.push(i)}return o}};var Mt=class{static build(e){let o=[];if(e.length>0)for(let t of e){let i={id:parseInt(t.Id),libelle:t.Libelle};o.push(i)}return o}};var Ot=class{static build(e){let o=[];for(let t of e){let i={id:parseInt(t.Id),libelle:t.Libelle};o.push(i)}return o}};var kt=class{static build(e){return new St(xt.build(e.Rules),parseInt(e.ProduitId),e.Libelle,e.ImageProduit,Pt.build(e.Garanties),It.build(e.GarantiesSupplementaires),e.NatureProduit,e.LibelleNatureProduit,wt.build(e.ListeDureeRente),Et.build(e.PiecesJointes),Ot.build(e.Fractionnements),Mt.build(e.QuestionnairesMedicales)).toJson()}};var Tt=class{constructor(e,o){this._apiInterface=o,this.definitionProduits=[],this.souscriptionSubject=new ee(this.definitionProduits)}listProduit(){return this._apiInterface.definitionProduit().then(e=>e.Status===200?(this.definitionProduits=this.createProduitList(e),this.souscriptionSubject.next(this.definitionProduits),this.definitionProduits):!1)}idApporteurBureauDirect(){return this._apiInterface.loadDefaultCodeApporteur().then(e=>e.Success?e.apporteur:!1)}listDureeContrat(e){return this._apiInterface.loadDureeContrats(e).then(o=>o.Success?o.DureeContrats:!1)}listDateEffet(){return y(this,null,function*(){return yield this._apiInterface.loadDateEffets().then(e=>e.Success?e.ListeDateEffets:!1)})}listeCapitauxParGarantieFacultative(e){return y(this,null,function*(){return yield this._apiInterface.getGarantieFacultativeAmount(e).then(o=>o.Success?o.ListeDateEffets:!1)})}listeCapitauxParPeriodicite(e){return y(this,null,function*(){return yield this._apiInterface.getListCapitalByPeriodicite(e).then(o=>o.Success?o.Capitaux:!1)})}createProduitList(e){let o=[];for(let t of e.DefinitionsProduits){let i=kt.build(t);o.push(i)}return o}searchProduitsByNatureProduit(e){return this.definitionProduits.filter(o=>o.natureProduit===e&&o)}seachById(e){return this.definitionProduits.filter(o=>o.produitId===e&&o)[0]}getApporteurBureauDirect(){return this._apiInterface.loadDefaultCodeApporteur().then(e=>e.apporteur)}};var At=(()=>{let e=class e extends Tt{constructor(t,i){super(t,i)}ngOnDestroy(){console.log("component destroy #SouscriptionToolsService")}getListDateEffet(){return this.listDateEffet()}loadProduits(){return this.listProduit()}searchProduitsByFamille(t){return this.searchProduitsByNatureProduit(t)}searchProduitById(t){return this.seachById(t)}getListDureeContrat(t){return this.listDureeContrat(t)}apporteurParDefaut(){return this.getApporteurBureauDirect()}getCapitauxParPeriodicite(t){return this.listeCapitauxParPeriodicite(t)}getCapitauxParGarantieFacultative(t){return this.listeCapitauxParPeriodicite(t)}};e.\u0275fac=function(i){return new(i||e)(I(M),I(Te))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function jo(n,e){if(n&1){let o=N();s(0,"swiper-slide")(1,"app-product-dashboard-item",5),v("click",function(){let i=T(o).$implicit,r=f();return A(r.checkProductDetail(i.produitId))}),a()()}if(n&2){let o=e.$implicit;l(),p("data",o)}}function Uo(n,e){n&1&&(s(0,"swiper-slide"),u(1,"ion-skeleton-text",6),a())}function Ho(n,e){n&1&&(s(0,"swiper-slide"),u(1,"ion-skeleton-text",6),a())}function Wo(n,e){n&1&&u(0,"app-alert",7)}var vn=(()=>{let e=class e{constructor(t,i,r){this.souscriptionSubject=t,this.modalCtrl=i,this._session=r,this.slideOptsThree={autoplay:!0,initialSlide:0,spaceBetween:5,slidesPerView:2}}ngOnInit(){this.AgeVerification(),this.souscriptionSubject.souscriptionSubject.subscribe(t=>{t.length>0||t.length==0?this.isLoading=!0:this.isLoading=!1,this.productList=t,this.sliderThree={isBeginningSlide:!0,slidesItems:this.productList}})}AgeVerification(){this.userData=this._session.storeValue(g.CURRENT_USER);let t=new Date,i=new Date(this.userData.dateNaissance).getFullYear();t.getFullYear()-i>=18?this.canSubscribe=!0:this.canSubscribe=!1}slideNext(t,i){i.slideNext(500).then(()=>{this.checkIfNavDisabled(t,i)})}slidePrev(t,i){i.slidePrev(500).then(()=>{this.checkIfNavDisabled(t,i)})}SlideDidChange(t,i){this.checkIfNavDisabled(t,i)}checkIfNavDisabled(t,i){this.checkisBeginning(t,i),this.checkisEnd(t,i)}checkisBeginning(t,i){i.isBeginning().then(r=>{t.isBeginningSlide=r})}checkisEnd(t,i){i.isEnd().then(r=>{t.isEndSlide=r})}checkProductDetail(t){return y(this,null,function*(){if(this.canSubscribe==!0){let i=this.souscriptionSubject.searchProduitById(t);return yield(yield this.modalCtrl.create({cssClass:"produit-modal-style",component:Kt,presentingElement:yield this.modalCtrl.getTop(),componentProps:{produitData:i}})).present()}else if(this.canSubscribe==!1&&t==1025)W.show("Souscription non disponible","L'age minimum pour souscrire \xE0 ce produit est de 18 ans.",j.error,!1);else{let i=this.souscriptionSubject.searchProduitById(t);return yield(yield this.modalCtrl.create({cssClass:"produit-modal-style",component:Kt,presentingElement:yield this.modalCtrl.getTop(),componentProps:{produitData:i}})).present()}})}};e.\u0275fac=function(i){return new(i||e)(h(At),h(re),h(V))},e.\u0275cmp=x({type:e,selectors:[["app-carrousel-product"]],decls:8,vars:5,consts:[["size","12"],[3,"options"],[4,"ngFor","ngForOf"],[4,"ngIf"],["type","default","icon","alert-circle-outline","message","Le catalogue produit est temporairement indisponible merci de r\xE9essayer plus tard",4,"ngIf"],[3,"click","data"],["animated","",1,"skeleton"],["type","default","icon","alert-circle-outline","message","Le catalogue produit est temporairement indisponible merci de r\xE9essayer plus tard"]],template:function(i,r){i&1&&(s(0,"ion-grid")(1,"ion-row")(2,"ion-col",0)(3,"swiper-container",1),C(4,jo,2,1,"swiper-slide",2)(5,Uo,2,0,"swiper-slide",3)(6,Ho,2,0,"swiper-slide",3),a(),C(7,Wo,1,0,"app-alert",4),a()()()),i&2&&(l(3),p("options",r.slideOptsThree),l(),p("ngForOf",r.sliderThree.slidesItems),l(),p("ngIf",!r.isLoading),l(),p("ngIf",!r.isLoading),l(),p("ngIf",r.productList.length===0))},dependencies:[R,ne,H,it,E,D,bi,gn,fn],styles:["swiper-container[_ngcontent-%COMP%]{margin-top:-70px;margin-bottom:5px}app-product-dashboard-item[_ngcontent-%COMP%]{width:100%;margin:0 6px}.skeleton[_ngcontent-%COMP%]{width:100%;height:160px;margin:0 5px;border-radius:.7rem}"]});let n=e;return n})();var bn=(()=>{let e=class e{constructor(){this.action=new Q}ngOnInit(){}executeAction(){this.action.emit()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=x({type:e,selectors:[["app-dashboard-card"]],inputs:{label:"label",icon:"icon",number:"number"},outputs:{action:"action"},decls:11,vars:3,consts:[[1,"dashboard-card",3,"click"],["size","12",1,"ion-no-padding"],[1,"ion-align-items-center"],["size","6"],["color","primary","slot","start",3,"name"]],template:function(i,r){i&1&&(s(0,"div",0),v("click",function(){return r.executeAction()}),s(1,"ion-col",1)(2,"h3"),c(3),a()(),s(4,"ion-row",2)(5,"ion-col",3)(6,"span"),u(7,"ion-icon",4),a()(),s(8,"ion-col",3)(9,"span"),c(10),a()()()()),i&2&&(l(3),S(r.label),l(4),p("name",r.icon),l(3),S(r.number))},dependencies:[R,D,E,z],styles:[".dashboard-card[_ngcontent-%COMP%]{padding:10px 20px;border-radius:8px;margin-top:15px;background-color:var(--ion-color-white)}.dashboard-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1rem;font-weight:300;color:#384a5de1}.dashboard-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:100%!important;font-size:xx-large;color:var(--ion-color-secondary)}"]});let n=e;return n})();var Cn=(()=>{let e=class e{constructor(t,i,r,d,m,b){this.route=t,this.store=i,this.session=r,this.menuControl=d,this.panierService=m,this._spinner=b,this.onGoToProfil=()=>{this.menuControl.close("main-menu"),this.route.navigate(["profil"])},this.onGoToProduct=()=>{this.menuControl.close("main-menu"),this.route.navigate(["products"])},this.onGoToServiceClient=()=>{this.menuControl.close("main-menu"),this.route.navigate(["service-client"])},this.onGoToContrats=()=>{this.menuControl.close("main-menu"),this.route.navigate(["/contrats"])},this.onGoToPropositions=()=>{this.menuControl.close("main-menu"),this.route.navigate(["/propositions"])},this.onGoToParams=()=>{this.menuControl.close("main-menu"),this.route.navigate(["/parametre"])}}ngOnInit(){this.filialeIcon=this.store.storeValue(g.FILIALE).icon}onDisconnect(){let t={cancel:"Annuler",confirm:"Confirmer"};Vi.show("D\xE9connexion","Voulez-vous vraiment vous d\xE9connecter ?",j.question,t).then(i=>{i.role==="confirm"&&(this.panierService.panierBehaviorSubject.next([]),this.menuControl.close("main-menu"),this.store.dispatch(g.PROPOSITIONS,null),this.session.dispatch(g.CURRENT_USER,null),this.session.dispatch(g.CONTRATS,null),this.session.dispatch(g.AUTH,null),this.route.navigate(["login"]))})}};e.\u0275fac=function(i){return new(i||e)(h(ue),h(M),h(V),h(Ci),h(Pe),h(fe))},e.\u0275cmp=x({type:e,selectors:[["app-menu-slider"]],inputs:{userData:"userData"},decls:54,vars:4,consts:[["menuId","main-menu","content-id","menu"],["id","menu-content"],["id","menu-box"],[1,"menu_box-header"],["src","assets/images/user_img.png",1,"profil-img"],[1,"ion-justify-content-center","ion-align-items-center"],["size","8"],["size","2"],[3,"src"],[1,"menu_box_body"],[1,"item-card",3,"click"],["src","assets/icon/ic_profile_96px.png","alt","title"],["size","10"],["src","assets/icon/ic_store.png","alt","title"],["src","assets/icon/ic_contrats.png","alt","title"],["src","assets/icon/ic_propositions.png","alt","title"],["src","assets/icon/ic_service_client.png","alt","title"],[1,"item-card","menu-footer","ion-align-items-center",3,"click"],["color","primary","name","log-out-outline",2,"font-size","2rem"],["color","danger"]],template:function(i,r){i&1&&(s(0,"ion-menu",0)(1,"div",1)(2,"ion-content")(3,"div",2)(4,"div",3)(5,"h2"),c(6,"Menu"),a(),u(7,"img",4),s(8,"h3"),c(9),a(),s(10,"ion-row",5)(11,"ion-col",6)(12,"span"),c(13),a()(),s(14,"ion-col",7),u(15,"ion-img",8),a()()(),s(16,"div",9)(17,"ion-row",10),v("click",function(){return r.onGoToProfil()}),s(18,"ion-col",7),u(19,"img",11),a(),s(20,"ion-col",12)(21,"span"),c(22,"Profil"),a()()(),s(23,"ion-row",10),v("click",function(){return r.onGoToProduct()}),s(24,"ion-col",7),u(25,"img",13),a(),s(26,"ion-col",12)(27,"span"),c(28,"Nos produits"),a()()(),s(29,"ion-row",10),v("click",function(){return r.onGoToContrats()}),s(30,"ion-col",7),u(31,"img",14),a(),s(32,"ion-col",12)(33,"span"),c(34,"Mes contrats"),a()()(),s(35,"ion-row",10),v("click",function(){return r.onGoToPropositions()}),s(36,"ion-col",7),u(37,"img",15),a(),s(38,"ion-col",12)(39,"span"),c(40,"Mes propositions"),a()()(),s(41,"ion-row",10),v("click",function(){return r.onGoToServiceClient()}),s(42,"ion-col",7),u(43,"img",16),a(),s(44,"ion-col",12)(45,"span"),c(46,"Service client"),a()()(),s(47,"ion-row",17),v("click",function(){return r.onDisconnect()}),s(48,"ion-col",7),u(49,"ion-icon",18),a(),s(50,"ion-col",12)(51,"ion-col",12)(52,"span",19),c(53,"Se deconnecter"),a()()()()()()()()()),i&2&&(l(9),S(r.userData.nom),l(4),S(r.userData.filiale.filiale),l(2),Me("src","assets/country/",r.filialeIcon,""))},dependencies:[R,gi,K,E,D,he,z],styles:["ion-menu[_ngcontent-%COMP%]{--background: transparent;--max-width: 78%}#menu-box[_ngcontent-%COMP%]{height:100%;background-color:auto}#menu-content[_ngcontent-%COMP%]{height:100%;display:flex;background-color:#fff;flex-direction:column;justify-content:center;align-items:center}.profil-img[_ngcontent-%COMP%]{width:90px;height:85px;border-radius:100px}.menu_box-header[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center;padding:50px 0;width:100%;background-color:var(--ion-color-secondary);border-bottom:5px solid var(--ion-color-secondary)}.menu_box-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-weight:200}.menu_box-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--ion-color-primary-contrast);font-size:20px;margin-top:10px;margin-bottom:0;font-size:1.2rem!important;font-weight:400!important}.menu_box-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#e4e4e4;font-weight:700;font-size:1rem!important;font-weight:200!important}.menu_box_body[_ngcontent-%COMP%]{padding:20px 0}  .menu-footer{position:absolute;bottom:10px}  .item-card{padding:6px 10px;align-items:center}  .item-card span{font-size:16px;color:var(--ion-color-primary)}  .item-card img{height:25px;width:25px}"]});let n=e;return n})();var Dt=class{static build(e){return{statut:e.Statut,produitId:parseInt(e.ProduitId),dateEffet:e.DateEffet,nomClient:e.NomClient,telephone:e.Telephone,numeroPolice:parseInt(e.NumeroPolice),prenomClient:e.PrenomClient,dateEmission:e.DateEmission,natureProduit:e.NatureProduit,propositionId:parseInt(e.PropositionId),codeApporteur:e.CodeApporteur,libelleProduit:e.LibelleProduit,detailProposition:JSON.parse(e.DetailProposition),descriptionRejet:e.DescriptionRejet,numeroProposition:e.NumeroProposition,numeroClientUnique:e.NumeroClientUnique}}};var Nt=class{constructor(e,o,t){this._store=e,this._session=o,this.propositionAPI=t,this.message="",this.propositions=[],this._session.storeValue(g.PROPOSITIONS)||this._session.dispatch(g.PROPOSITIONS,[]),this.propositionBehaviorSubject=new ee(this.propositions),this.cotationNumber=new ee(0),this.refreshLocalPropositionStorage()}createContrat(e){return y(this,null,function*(){let o=this._store.storeValue(g.FILIALE),t=this._store.storeValue(g.DEFAULT_APPORTEUR),i={Compte:e.Compte,Contrat:e.Contrat,Paiement:e.Paiement,Souscripteur:e.Souscripteur,AssuresAssocies:e.AssuresAssocies,Beneficiaires:e.Beneficiaires,GarantiesSupplementairesSouscrites:e.GarantiesSupplementairesSouscrites,QuestionnaireMedical:e.QuestionnaireMedical,CodeApporteur:t,NomApporteur:"",Devise:o.devise,DetailSimulation:JSON.stringify(e.DetailSimulation)};return yield this.propositionAPI.createContrat(i).then(r=>r.Success?(i.Observation={StatutPaiement:!0,DateCreation:new Date,Message:r.Message,NumeroProposition:r.PropositionCreatedView.NumeroProposition,NumeroPolice:r.PropositionCreatedView.NumeroPolice,PropositionStatus:r.Status},{status:r.Success,requestCode:r.Status,numeroProposition:r.PropositionCreatedView.NumeroProposition,numeroPolice:r.PropositionCreatedView.NumeroPolice,message:r.Message}):{status:r.Success,requestCode:r.Status,message:r.Message})})}createContratByFile(e){return y(this,null,function*(){var o=new FormData;console.log("info data :::> ",e);let t=this._store.storeValue(g.FILIALE),i=this._store.storeValue(g.DEFAULT_APPORTEUR),r=e.PieceJoints,d={Compte:e.Compte,Contrat:e.Contrat,Paiement:e.Paiement,Souscripteur:e.Souscripteur,AssuresAssocies:e.AssuresAssocies,Beneficiaires:e.Beneficiaires,GarantiesSupplementairesSouscrites:e.GarantiesSupplementairesSouscrites,QuestionnaireMedical:e.QuestionnaireMedical,CodeApporteur:i,NomApporteur:"",Devise:t.devise,DetailSimulation:JSON.stringify(e.DetailSimulation)};o.append("proposition",JSON.stringify(d));for(let m of r)o.append(m.id,m.base64[0],m.filename);return this.propositionAPI.createContratByFile(o).then(m=>m.Success?(d.Observation={Message:m.Message,DateCreation:new Date,StatutPaiement:!0,NumeroProposition:m.PropositionCreatedView.NumeroProposition,NumeroPolice:m.PropositionCreatedView.NumeroPolice,PropositionStatus:m.Status},{status:m.Success,requestCode:m.Status,numeroProposition:m.PropositionCreatedView.NumeroProposition,numeroPolice:m.PropositionCreatedView.NumeroPolice,message:m.Message}):{status:m.Success,requestCode:m.Status,message:m.Message})})}saveCotation(e){return y(this,null,function*(){let o=this._store.storeValue(g.FILIALE),t=this._store.storeValue(g.DEFAULT_APPORTEUR),i={NomApporteur:"",Compte:e.Compte,Contrat:e.Contrat,Paiement:e.Paiement,Souscripteur:e.Souscripteur,Beneficiaires:e.Beneficiaires,AssuresAssocies:e.AssuresAssocies,DetailSimulation:e.DetailSimulation,GarantiesSupplementairesSouscrites:e.GarantiesSupplementairesSouscrites,QuestionnaireMedical:e.QuestionnaireMedical,CodeApporteur:t,Devise:o.devise},r=ve(Y({},i),{DetailSimulation:JSON.stringify(i)});return yield this.propositionAPI.saveCotation(r).then(d=>d.Success?(i.Observation={Message:d.Message,DateCreation:new Date,StatutPaiement:!1,NumeroProposition:d.PropositionCreatedView.NumeroProposition,NumeroPolice:d.PropositionCreatedView.NumeroPolice,PropositionStatus:d.Status},this.updateLocalStoragePropositions(i),{status:d.Success,requestCode:d.Status,numeroProposition:d.PropositionCreatedView.NumeroProposition,numeroPolice:d.PropositionCreatedView.NumeroPolice,message:d.Message}):{status:d.Success,requestCode:d.Status,message:d.Message})})}validateCotation(e){return y(this,null,function*(){return this.propositionAPI.validateProposition(e).then(o=>o)})}findPropositionByClientId(e){return y(this,null,function*(){return this.propositionAPI.findProposition(e).then(o=>o.Success?(this.cotationNumber.next(o.TotalCount),this.createListCotation(o.propositions)):!1)})}createListCotation(e){let o=[];for(let t of e)o.push(Dt.build(t));return o}updateLocalStoragePropositions(e){let o=this._session.storeValue(g.PROPOSITIONS);o.push(e),this._session.dispatch(g.PROPOSITIONS,o),this.refreshLocalPropositionStorage()}refreshLocalPropositionStorage(){let e=[],o=this._session.storeValue(g.PROPOSITIONS);for(let t of o)e.push(t);return this.propositionBehaviorSubject.next(e),e}getAllPropositions(){return this.refreshLocalPropositionStorage()}updatePropositionByPropositionNumber(e,o){let t=!1,i=this.propositionBehaviorSubject.value.filter(r=>{});return t&&(this._session.dispatch(g.PROPOSITIONS,i),this.propositionBehaviorSubject.next(i)),t}getPropositionByPropositionNumber(e){return this.propositionBehaviorSubject.value.filter(t=>{if(t.Observation.NumeroProposition===e)return t})[0]}};var yn=(()=>{let e=class e extends Nt{constructor(t,i,r){super(t,i,r)}ngOnDestroy(){console.log("destroy service instance #PropositionService")}saveProposition(t){return this.createContrat(t)}savePropositionByFile(t){return this.createContrat(t)}saveNewCotation(t){return this.saveCotation(t)}validationCatation(t){return this.validateCotation(t)}getProposition(t){return this.getPropositionByPropositionNumber(t)}loadPropositions(){return this.getAllPropositions()}refreshData(){this.refreshLocalPropositionStorage()}findAllProposition(t){return this.findPropositionByClientId(t)}updatePropositionByNumber(t,i){return this.updatePropositionByPropositionNumber(t,i)}};e.\u0275fac=function(i){return new(i||e)(I(M),I(V),I(Te))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var $o=n=>({"ios-header":n});function Xo(n,e){if(n&1&&u(0,"app-menu-slider",30),n&2){let o=f();p("userData",o.userData)}}var ic=(()=>{let e=class e{constructor(t,i,r,d,m,b,_,P,O,F,le){this.route=t,this._store=i,this._session=r,this.platform=d,this.translate=m,this._toastCtl=b,this.panierService=_,this.modalRecapImpaye=P,this.propositionService=O,this._uniqueClientService=F,this._subscribeToolsService=le,this.openAllContratPage=!1,this.platformValue=this.platform.getPlatform()}refreshDashboardValue(t){this.userData=ve(Y({},this._session.storeValue(g.CURRENT_USER)),{filiale:this.filiale}),this.percentageActivity=0;let i={CodeClient:this.userData.nuClient};this.propositionService.findAllProposition(i),this.contrats=this._session.storeValue(g.CONTRATS),this._uniqueClientService.getGlobalTauxEngagementByUniqueClient(this.clientNumber).then(r=>{r.status&&(this.bilanGraphData={numberImpaye:this.contrats.totalImpayeesCount,numberContrats:this.contrats.totalCount,numberCotation:0,numberPrestation:this.contrats.totalPrestationsCount,tauxEngagement:r.data.taux})}).catch(r=>this.presentToast("Nous avons rencontr\xE9 un probl\xE8me lors de chargement de certaines donn\xE9es. Glisser vers le bas pour refraichir de nouveau.")).finally(()=>t==null?void 0:t.target.complete())}presentToast(t){return y(this,null,function*(){(yield this._toastCtl.create({message:t,position:"top",duration:5e3,buttons:[{side:"end",icon:"close",handler:()=>{}}]})).present()})}doRefresh(t){this.refreshDashboardValue(t)}ionViewWillEnter(){this.refreshDashboardValue()}ngOnInit(){let t=this._store.storeValue(g.PARRAIN_KEY);t?this._store.dispatch(g.DEFAULT_APPORTEUR,t):this._subscribeToolsService.apporteurParDefaut().then(r=>{this._store.dispatch(g.DEFAULT_APPORTEUR,parseInt(r.NumeroApporteur))}),this._session.storeValue(g.AUTH).isFirstConnexion&&this.route.navigate(["/cgu-page"]),this.clientNumber=this._session.storeValue(g.AUTH).clientNumber,this.filiale=this._store.storeValue(g.FILIALE),this._subscribeToolsService.loadProduits(),this.panierService.panierBehaviorSubject.subscribe(r=>{this.payListNumber=r.length,this.matBadgeHiddenPanier=!(this.payListNumber>=1)}),this.openAllContratPage=this.contratNumber>3,this.propositionService.cotationNumber.subscribe(r=>{this.propositionNumber=r,this.matBadgeHiddenProposition=!(this.propositionNumber>=1)})}openPanier(){return y(this,null,function*(){yield(yield this.modalRecapImpaye.create({component:hn,cssClass:"modal-recap-panier-cmp"})).present()})}moveToProposition(){this.route.navigate(["propositions"])}goToContrats(){this.route.navigate(["contrats"])}goToImpayes(){this.route.navigate(["liste-impayes"])}};e.\u0275fac=function(i){return new(i||e)(h(ue),h(M),h(V),h(st),h(at),h(yi),h(Pe),h(re),h(yn),h(ct),h(At))},e.\u0275cmp=x({type:e,selectors:[["app-dashboard"]],features:[ai([{provide:_e,useValue:{}}])],decls:50,vars:32,consts:[[3,"userData",4,"ngIf"],["id","menu"],["id","header-box"],[1,"menu-bar","ion-align-items-center",3,"ngClass"],["size","2"],["slot","start"],["menu","main-menu"],["size","large","color","light","name","menu-outline"],["size","7",2,"display","flex","justify-content","center"],["src","assets/icon/logolight.png",2,"width","99px"],["size","3"],["size","6"],["matBadgeColor","warn",3,"matBadgeHidden","matBadge"],["size","large","color","light","name","card-outline",3,"click"],["size","large","color","light","name","cart-outline",3,"click"],["id","user-info"],[2,"color","var(--ion-color-primary-contrast)"],["slot","fixed",3,"ionRefresh"],["pullingIcon","chevron-down-circle-outline","pullingText","Glissez vers le bas pour actualiser","refreshingSpinner","circles","refreshingText","Actualisation des donn\xE9es"],["id","graph-box"],["label","Impay\xE9s","icon","wallet-outline",3,"action","number"],["label","Contrats","icon","document-text-outline",3,"action","number"],["id","static-box"],["size","12","id","static-graph"],[3,"onClick","percent","subtitle","subtitleFontSize","radius","renderOnClick","responsive","imageWidth","imageHeight","titleFontSize","unitsFontSize","backgroundColor","outerStrokeWidth","innerStrokeWidth","outerStrokeColor","innerStrokeColor","animation","animationDuration"],["size","12","id","static-value"],[1,"ion-align-items-center"],[1,"marker",2,"background-color","var(--ion-color-secondary)"],["size","10"],[1,"marker",2,"background-color","#6f98c7"],[3,"userData"]],template:function(i,r){i&1&&(C(0,Xo,1,1,"app-menu-slider",0),s(1,"ion-content",1)(2,"div",2)(3,"ion-row",3)(4,"ion-col",4)(5,"div")(6,"ion-buttons",5)(7,"ion-menu-button",6),u(8,"ion-icon",7),a()()()(),s(9,"ion-col",8),u(10,"ion-img",9),a(),s(11,"ion-col",10)(12,"ion-row")(13,"ion-col",11)(14,"mat-icon",12)(15,"ion-icon",13),v("click",function(){return r.moveToProposition()}),a()()(),s(16,"ion-col",11)(17,"mat-icon",12)(18,"ion-icon",14),v("click",function(){return r.openPanier()}),a()()()()()(),s(19,"div",15)(20,"ion-text")(21,"h2",16),c(22),a(),s(23,"span"),c(24,"Bienvenue sur votre espace client"),a()()()(),u(25,"app-carrousel-product"),s(26,"ion-refresher",17),v("ionRefresh",function(m){return r.doRefresh(m)}),u(27,"ion-refresher-content",18),a(),s(28,"ion-row",19)(29,"app-dashboard-card",20),v("action",function(){return r.goToImpayes()}),a(),s(30,"app-dashboard-card",21),v("action",function(){return r.goToContrats()}),a()(),s(31,"ion-row",22)(32,"ion-col",23)(33,"circle-progress",24),v("onClick",function(){return r.goToImpayes()}),a()(),s(34,"ion-col",25)(35,"ion-row")(36,"ion-col",11)(37,"ion-row",26)(38,"ion-col",4),u(39,"span",27),a(),s(40,"ion-col",28)(41,"h3"),c(42,"Engagements"),a()()()(),s(43,"ion-col",11)(44,"ion-row",26)(45,"ion-col",4),u(46,"span",29),a(),s(47,"ion-col",28)(48,"h3"),c(49,"Cotisations"),a()()()()()()()()),i&2&&(p("ngIf",r.userData),l(3),p("ngClass",He(30,$o,r.platformValue==="ios")),l(11),ye("matBadgeHidden",r.matBadgeHiddenProposition),ye("matBadge",r.propositionNumber),l(3),ye("matBadgeHidden",r.matBadgeHiddenPanier),ye("matBadge",r.payListNumber),l(5),X("",r.userData==null?null:r.userData.nom," ",r.userData==null?null:r.userData.prenom,""),l(7),p("number",r.bilanGraphData==null?null:r.bilanGraphData.numberImpaye),l(),p("number",r.bilanGraphData==null?null:r.bilanGraphData.numberContrats),l(3),Ue("circle-els"),p("percent",r.bilanGraphData==null?null:r.bilanGraphData.tauxEngagement)("subtitle","Engagements")("subtitleFontSize","30")("radius",100)("renderOnClick",!1)("responsive",!0)("imageWidth",5)("imageHeight",5)("titleFontSize","34")("unitsFontSize","32")("backgroundColor","#fffaf2")("subtitleFontSize","15")("outerStrokeWidth",13)("innerStrokeWidth",6)("outerStrokeColor","var(--ion-color-secondary)")("innerStrokeColor","#6f98c7")("animation",!0)("animationDuration",300))},dependencies:[R,Oe,H,K,ui,fi,z,he,oe,E,D,_i,vi,zi,Li,Wi,Hi,Cn,vn,bn,Qi,Yi],styles:["ion-content[_ngcontent-%COMP%]{--background: var(--ion-background-white)}ion-refresher-content[_ngcontent-%COMP%]{background-color:var(--ion-background-white)}.user-box[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center}.user-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60px;width:60px;border-radius:60px}.user-info[_ngcontent-%COMP%]{padding:0 15px}.user-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#fff;font-size:1.3rem;font-weight:200}.user-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem;font-weight:200;color:#ffffffa6}#header-box[_ngcontent-%COMP%]{padding:15px 15px 70px;background-color:var(--ion-color-primary)}#header-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.4rem;font-weight:200;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}  .produit-modal-style .modal-wrapper{left:0;bottom:0;width:100%;height:100%;display:block;position:absolute;background-color:transparent}  .produit-modal-style .ion-page{display:flex;align-items:center;flex-direction:column;justify-content:flex-start}  #modal-container{width:90%;height:90%}#static-box[_ngcontent-%COMP%]{margin:0 15px 15px;padding-top:.2rem;border-radius:8px;background-color:var(--ion-color-white);display:flex;flex-direction:row;justify-content:space-between;align-items:center}#static-box[_ngcontent-%COMP%]   .marker[_ngcontent-%COMP%]{padding:5px;border-radius:5px;background-color:var(--ion-color-primary)}.contrat-box[_ngcontent-%COMP%]{margin:15px;padding:10px 20px;border-radius:8px;background-color:var(--ion-color-white)}#graph-box[_ngcontent-%COMP%]{margin:0 15px 15px}app-dashboard-card[_ngcontent-%COMP%]{width:48%}app-dashboard-card[_ngcontent-%COMP%]:nth-child(1), app-dashboard-card[_ngcontent-%COMP%]:nth-child(3){margin-right:2%}app-dashboard-card[_ngcontent-%COMP%]:nth-child(2), app-dashboard-card[_ngcontent-%COMP%]:nth-child(4){margin-left:2%}#static-value[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], #static-value[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0}#static-value[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#1b1b1b;font-size:1.2rem;font-weight:300}#static-value[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#6a7d8d;font-size:1rem;font-weight:200}#contrat-box[_ngcontent-%COMP%]{padding:0}#contrat-box[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;font-weight:400;margin:0}.header-box-product[_ngcontent-%COMP%]{padding:5px 0;border-bottom:.5px solid rgba(19,52,89,.6352941176)}.header-box-product[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.3rem;font-weight:300}.info-btn[_ngcontent-%COMP%]{color:#6a7d8d;text-decoration:none}#user-info[_ngcontent-%COMP%]{padding:10px;margin-bottom:0}#user-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#d6d6d6;font-size:1rem;font-weight:200}#static-graph[_ngcontent-%COMP%]{width:250px;height:250px}.ios-header[_ngcontent-%COMP%]{padding-top:env(safe-area-inset-top)!important}"]});let n=e;return n})();export{ic as DashboardPage};
